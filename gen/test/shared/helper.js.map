{"version":3,"file":"helper.js","sourceRoot":"","sources":["../../../../../test/shared/helper.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport {assert, AssertionError} from 'chai';\nimport * as os from 'os';\nimport * as puppeteer from 'puppeteer';\n\nimport {getDevToolsFrontendHostname, reloadDevTools} from '../conductor/hooks.js';\nimport {getBrowserAndPages, getTestServerPort} from '../conductor/puppeteer-state.js';\nimport {getTestRunnerConfigSetting} from '../conductor/test_runner_config.js';\nimport {AsyncScope} from './async-scope.js';\n\ndeclare global {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  interface Window {\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    __pendingEvents: Map<string, Event[]>;\n\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    __getRenderCoordinatorPendingFrames(): number;\n  }\n}\n\nexport type Platform = 'mac'|'win32'|'linux';\nexport let platform: Platform;\nswitch (os.platform()) {\n  case 'darwin':\n    platform = 'mac';\n    break;\n\n  case 'win32':\n    platform = 'win32';\n    break;\n\n  default:\n    platform = 'linux';\n    break;\n}\n\n// TODO: Remove once Chromium updates its version of Node.js to 12+.\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst globalThis: any = global;\n\n/**\n * Returns an {x, y} position within the element identified by the selector within the root.\n * By default the position is the center of the bounding box. If the element's bounding box\n * extends beyond that of a containing element, this position may not correspond to the element.\n * In this case, specifying maxPixelsFromLeft will constrain the returned point to be close to\n * the left edge of the bounding box.\n */\nexport const getElementPosition =\n    async (selector: string|puppeteer.ElementHandle, root?: puppeteer.JSHandle, maxPixelsFromLeft?: number) => {\n  let element: puppeteer.ElementHandle;\n  if (typeof selector === 'string') {\n    element = await waitFor(selector, root);\n  } else {\n    element = selector;\n  }\n\n  const rectData = await element.evaluate((element: Element) => {\n    if (!element) {\n      return {};\n    }\n\n    const isConnected = element.isConnected;\n\n    const {left, top, width, height} = element.getBoundingClientRect();\n    return {left, top, width, height, isConnected};\n  });\n  if (!rectData.isConnected) {\n    throw new Error('Element is no longer attached to the dom');\n  }\n\n  if (rectData.left === undefined) {\n    throw new Error(`Unable to find element with selector \"${selector}\"`);\n  }\n\n  let pixelsFromLeft = rectData.width * 0.5;\n  if (maxPixelsFromLeft && pixelsFromLeft > maxPixelsFromLeft) {\n    pixelsFromLeft = maxPixelsFromLeft;\n  }\n\n  return {\n    x: rectData.left + pixelsFromLeft,\n    y: rectData.top + rectData.height * 0.5,\n  };\n};\n\nexport interface ClickOptions {\n  root?: puppeteer.JSHandle;\n  clickOptions?: PuppeteerClickOptions;\n  maxPixelsFromLeft?: number;\n}\n\ninterface PuppeteerClickOptions extends puppeteer.ClickOptions {\n  modifier?: 'ControlOrMeta';\n}\n\nexport const click = async (selector: string|puppeteer.ElementHandle, options?: ClickOptions) => {\n  const {frontend} = getBrowserAndPages();\n  const clickableElement =\n      await getElementPosition(selector, options && options.root, options && options.maxPixelsFromLeft);\n\n  if (!clickableElement) {\n    throw new Error(`Unable to locate clickable element \"${selector}\".`);\n  }\n\n  const modifier = platform === 'mac' ? 'Meta' : 'Control';\n  if (options?.clickOptions?.modifier) {\n    await frontend.keyboard.down(modifier);\n  }\n\n  // Click on the button and wait for the console to load. The reason we use this method\n  // rather than elementHandle.click() is because the frontend attaches the behavior to\n  // a 'mousedown' event (not the 'click' event). To avoid attaching the test behavior\n  // to a specific event we instead locate the button in question and ask Puppeteer to\n  // click on it instead.\n  await frontend.mouse.click(clickableElement.x, clickableElement.y, options && options.clickOptions);\n  if (options?.clickOptions?.modifier) {\n    await frontend.keyboard.up(modifier);\n  }\n};\n\nexport const doubleClick =\n    async (selector: string, options?: {root?: puppeteer.JSHandle, clickOptions?: puppeteer.ClickOptions}) => {\n  const passedClickOptions = (options && options.clickOptions) || {};\n  const clickOptionsWithDoubleClick: puppeteer.ClickOptions = {\n    ...passedClickOptions,\n    clickCount: 2,\n  };\n  return click(selector, {\n    ...options,\n    clickOptions: clickOptionsWithDoubleClick,\n  });\n};\n\nexport const typeText = async (text: string) => {\n  const {frontend} = getBrowserAndPages();\n  await frontend.keyboard.type(text);\n};\n\nexport const pressKey =\n    async (key: puppeteer.KeyInput, modifiers?: {control?: boolean, alt?: boolean, shift?: boolean}) => {\n  const {frontend} = getBrowserAndPages();\n  if (modifiers) {\n    if (modifiers.control) {\n      if (platform === 'mac') {\n        // Use command key on mac\n        await frontend.keyboard.down('Meta');\n      } else {\n        await frontend.keyboard.down('Control');\n      }\n    }\n    if (modifiers.alt) {\n      await frontend.keyboard.down('Alt');\n    }\n    if (modifiers.shift) {\n      await frontend.keyboard.down('Shift');\n    }\n  }\n  await frontend.keyboard.press(key);\n  if (modifiers) {\n    if (modifiers.shift) {\n      await frontend.keyboard.up('Shift');\n    }\n    if (modifiers.alt) {\n      await frontend.keyboard.up('Alt');\n    }\n    if (modifiers.control) {\n      if (platform === 'mac') {\n        // Use command key on mac\n        await frontend.keyboard.up('Meta');\n      } else {\n        await frontend.keyboard.up('Control');\n      }\n    }\n  }\n};\n\nexport const pasteText = async (text: string) => {\n  const {frontend} = getBrowserAndPages();\n  await frontend.keyboard.sendCharacter(text);\n};\n\n// Get a single element handle. Uses `pierce` handler per default for piercing Shadow DOM.\nexport const $ =\n    async<ElementType extends Element = Element>(selector: string, root?: puppeteer.JSHandle, handler = 'pierce') => {\n  const {frontend} = getBrowserAndPages();\n  const rootElement = root ? root as puppeteer.ElementHandle : frontend;\n  const element = await rootElement.$<ElementType>(`${handler}/${selector}`);\n  return element;\n};\n\n// Get multiple element handles. Uses `pierce` handler per default for piercing Shadow DOM.\nexport const $$ =\n    async<ElementType extends Element = Element>(selector: string, root?: puppeteer.JSHandle, handler = 'pierce') => {\n  const {frontend} = getBrowserAndPages();\n  const rootElement = root ? root.asElement() || frontend : frontend;\n  const elements = await rootElement.$$<ElementType>(`${handler}/${selector}`);\n  return elements;\n};\n\n/**\n * Search for an element based on its textContent.\n *\n * @param textContent The text content to search for.\n * @param root The root of the search.\n */\nexport const $textContent = async (textContent: string, root?: puppeteer.JSHandle) => {\n  return $(textContent, root, 'pierceShadowText');\n};\n\n/**\n * Search for all elements based on their textContent\n *\n * @param textContent The text content to search for.\n * @param root The root of the search.\n */\nexport const $$textContent = async (textContent: string, root?: puppeteer.JSHandle) => {\n  return $$(textContent, root, 'pierceShadowText');\n};\n\nexport const timeout = (duration: number) => new Promise(resolve => setTimeout(resolve, duration));\n\nexport const waitFor = async<ElementType extends Element = Element>(\n    selector: string, root?: puppeteer.JSHandle, asyncScope = new AsyncScope(), handler?: string) => {\n  return await asyncScope.exec(() => waitForFunction(async () => {\n                                 const element = await $<ElementType>(selector, root, handler);\n                                 return (element || undefined);\n                               }, asyncScope));\n};\n\nexport const waitForMany = async (\n    selector: string, count: number, root?: puppeteer.JSHandle, asyncScope = new AsyncScope(), handler?: string) => {\n  return await asyncScope.exec(() => waitForFunction(async () => {\n                                 const elements = await $$(selector, root, handler);\n                                 return elements.length >= count ? elements : undefined;\n                               }, asyncScope));\n};\n\nexport const waitForNone =\n    async (selector: string, root?: puppeteer.JSHandle, asyncScope = new AsyncScope(), handler?: string) => {\n  return await asyncScope.exec(() => waitForFunction(async () => {\n                                 const elements = await $$(selector, root, handler);\n                                 if (elements.length === 0) {\n                                   return true;\n                                 }\n                                 return false;\n                               }, asyncScope));\n};\n\nexport const waitForAria = (selector: string, root?: puppeteer.JSHandle, asyncScope = new AsyncScope()) => {\n  return waitFor(selector, root, asyncScope, 'aria');\n};\n\nexport const waitForAriaNone = (selector: string, root?: puppeteer.JSHandle, asyncScope = new AsyncScope()) => {\n  return waitForNone(selector, root, asyncScope, 'aria');\n};\n\nexport const waitForElementWithTextContent =\n    (textContent: string, root?: puppeteer.JSHandle, asyncScope = new AsyncScope()) => {\n      return waitFor(textContent, root, asyncScope, 'pierceShadowText');\n    };\n\nexport const waitForElementsWithTextContent =\n    (textContent: string, root?: puppeteer.JSHandle, asyncScope = new AsyncScope()) => {\n      return asyncScope.exec(() => waitForFunction(async () => {\n                               const elems = await $$textContent(textContent, root);\n                               if (elems && elems.length) {\n                                 return elems;\n                               }\n\n                               return undefined;\n                             }, asyncScope));\n    };\n\nexport const waitForNoElementsWithTextContent =\n    (textContent: string, root?: puppeteer.JSHandle, asyncScope = new AsyncScope()) => {\n      return asyncScope.exec(() => waitForFunction(async () => {\n                               const elems = await $$textContent(textContent, root);\n                               if (elems && elems.length === 0) {\n                                 return true;\n                               }\n\n                               return false;\n                             }, asyncScope));\n    };\n\nexport const waitForFunction = async<T>(fn: () => Promise<T|undefined>, asyncScope = new AsyncScope()): Promise<T> => {\n  return await asyncScope.exec(async () => {\n    while (true) {\n      if (asyncScope.isCanceled()) {\n        throw new Error('Test timed out');\n      }\n      const result = await fn();\n      if (result) {\n        return result;\n      }\n      await timeout(100);\n    }\n  });\n};\n\nexport const waitForFunctionWithTries = async<T>(\n    fn: () => Promise<T|undefined>, options: {tries: number} = {\n      tries: Number.MAX_SAFE_INTEGER,\n    },\n    asyncScope = new AsyncScope()): Promise<T|undefined> => {\n  return await asyncScope.exec(async () => {\n    let tries = 0;\n    while (tries++ < options.tries) {\n      const result = await fn();\n      if (result) {\n        return result;\n      }\n      await timeout(100);\n    }\n    return undefined;\n  });\n};\n\nexport const waitForWithTries = async (\n    selector: string, root?: puppeteer.JSHandle, options: {tries: number} = {\n      tries: Number.MAX_SAFE_INTEGER,\n    },\n    asyncScope = new AsyncScope(), handler?: string) => {\n  return await asyncScope.exec(() => waitForFunctionWithTries(async () => {\n                                 const element = await $(selector, root, handler);\n                                 return (element || undefined);\n                               }, options, asyncScope));\n};\n\nexport const debuggerStatement = (frontend: puppeteer.Page) => {\n  return frontend.evaluate(() => {\n    // eslint-disable-next-line no-debugger\n    debugger;\n  });\n};\n\nexport const logToStdOut = (msg: string) => {\n  if (!process.send) {\n    return;\n  }\n\n  process.send({\n    pid: process.pid,\n    details: msg,\n  });\n};\n\nexport const logFailure = () => {\n  if (!process.send) {\n    return;\n  }\n\n  process.send({\n    pid: process.pid,\n    details: 'failure',\n  });\n};\n\nexport const enableExperiment = async (\n    experiment: string, options: {selectedPanel?: {name: string, selector?: string}, canDock?: boolean} = {}) => {\n  const {frontend} = getBrowserAndPages();\n  await frontend.evaluate(experiment => {\n    // @ts-ignore\n    globalThis.Root.Runtime.experiments.setEnabled(experiment, true);\n  }, experiment);\n\n  await reloadDevTools(options);\n};\n\nexport const setDevToolsSettings = async (settings: Record<string, string>) => {\n  const {frontend} = getBrowserAndPages();\n  await frontend.evaluate(settings => {\n    for (const name in settings) {\n      globalThis.InspectorFrontendHost.setPreference(name, JSON.stringify(settings[name]));\n    }\n  }, settings);\n  await reloadDevTools();\n};\n\nexport const goTo = async (url: string) => {\n  const {target} = getBrowserAndPages();\n  await target.goto(url);\n};\n\nexport const overridePermissions = async (permissions: puppeteer.Permission[]) => {\n  const {browser} = getBrowserAndPages();\n  await browser.defaultBrowserContext().overridePermissions(`https://localhost:${getTestServerPort()}`, permissions);\n};\n\nexport const clearPermissionsOverride = async () => {\n  const {browser} = getBrowserAndPages();\n  await browser.defaultBrowserContext().clearPermissionOverrides();\n};\n\nexport const goToResource = async (path: string) => {\n  await goTo(`${getResourcesPath()}/${path}`);\n};\n\nexport const goToResourceWithCustomHost = async (host: string, path: string) => {\n  assert.isTrue(host.endsWith('.test'), 'Only custom hosts with a .test domain are allowed.');\n  await goTo(`${getResourcesPath(host)}/${path}`);\n};\n\nexport const getResourcesPath = (host: string = 'localhost') => {\n  let resourcesPath = getTestRunnerConfigSetting('hosted-server-e2e-resources-path', '/test/e2e/resources');\n  if (!resourcesPath.startsWith('/')) {\n    resourcesPath = `/${resourcesPath}`;\n  }\n  return `https://${host}:${getTestServerPort()}${resourcesPath}`;\n};\n\nexport const step = async (description: string, step: Function) => {\n  try {\n    return await step();\n  } catch (error) {\n    if (error instanceof AssertionError) {\n      throw new AssertionError(\n          `Unexpected Result in Step \"${description}\"\n      ${error.message}`,\n          error);\n    } else {\n      error.message += ` in Step \"${description}\"`;\n      throw error;\n    }\n  }\n};\n\nexport const waitForAnimationFrame = async () => {\n  const {frontend} = getBrowserAndPages();\n\n  await frontend.waitForFunction(() => {\n    return new Promise(resolve => {\n      requestAnimationFrame(resolve);\n    });\n  });\n};\n\nexport const activeElement = async(): Promise<puppeteer.ElementHandle> => {\n  const {frontend} = getBrowserAndPages();\n\n  await waitForAnimationFrame();\n\n  return frontend.evaluateHandle(() => {\n    let activeElement = document.activeElement;\n\n    while (activeElement && activeElement.shadowRoot) {\n      activeElement = activeElement.shadowRoot.activeElement;\n    }\n\n    return activeElement;\n  });\n};\n\nexport const activeElementTextContent = async () => {\n  const element = await activeElement();\n  return element.evaluate(node => node.textContent);\n};\n\nexport const activeElementAccessibleName = async () => {\n  const element = await activeElement();\n  return element.evaluate(node => node.getAttribute('aria-label'));\n};\n\nexport const tabForward = async (page?: puppeteer.Page) => {\n  let targetPage: puppeteer.Page;\n  if (page) {\n    targetPage = page;\n  } else {\n    const {frontend} = getBrowserAndPages();\n    targetPage = frontend;\n  }\n\n  await targetPage.keyboard.press('Tab');\n};\n\nexport const tabBackward = async (page?: puppeteer.Page) => {\n  let targetPage: puppeteer.Page;\n  if (page) {\n    targetPage = page;\n  } else {\n    const {frontend} = getBrowserAndPages();\n    targetPage = frontend;\n  }\n\n  await targetPage.keyboard.down('Shift');\n  await targetPage.keyboard.press('Tab');\n  await targetPage.keyboard.up('Shift');\n};\n\nexport const selectTextFromNodeToNode = async (\n    from: puppeteer.JSHandle|Promise<puppeteer.JSHandle>, to: puppeteer.JSHandle|Promise<puppeteer.JSHandle>,\n    direction: 'up'|'down') => {\n  const {target} = getBrowserAndPages();\n\n  // The clipboard api does not allow you to copy, unless the tab is focused.\n  await target.bringToFront();\n\n  return target.evaluate(async (from, to, direction) => {\n    const selection = from.getRootNode().getSelection();\n    const range = document.createRange();\n    if (direction === 'down') {\n      range.setStartBefore(from);\n      range.setEndAfter(to);\n    } else {\n      range.setStartBefore(to);\n      range.setEndAfter(from);\n    }\n\n    selection.removeAllRanges();\n    selection.addRange(range);\n\n    document.execCommand('copy');\n\n    return navigator.clipboard.readText();\n  }, await from, await to, direction);\n};\n\nexport const closePanelTab = async (panelTabSelector: string) => {\n  // Get close button from tab element\n  const selector = `${panelTabSelector} > .tabbed-pane-close-button`;\n  await click(selector);\n  await waitForNone(selector);\n};\n\nexport const closeAllCloseableTabs = async () => {\n  // get all closeable tools by looking for the available x buttons on tabs\n  const selector = '.tabbed-pane-close-button';\n  const allCloseButtons = await $$(selector);\n\n  // Get all panel ids\n  const panelTabIds = await Promise.all(allCloseButtons.map(button => {\n    return button.evaluate(button => button.parentElement ? button.parentElement.id : '');\n  }));\n\n  // Close each tab\n  for (const tabId of panelTabIds) {\n    const selector = `#${tabId}`;\n    await closePanelTab(selector);\n  }\n};\n\n// Noisy! Do not leave this in your test but it may be helpful\n// when debugging.\nexport const enableCDPLogging = async () => {\n  const {frontend} = getBrowserAndPages();\n  await frontend.evaluate(() => {\n    globalThis.ProtocolClient.test.dumpProtocol = console.log;  // eslint-disable-line no-console\n  });\n};\n\nexport const selectOption = async (select: puppeteer.ElementHandle<HTMLSelectElement>, value: string) => {\n  await select.evaluate(async (node: HTMLSelectElement, _value: string) => {\n    node.value = _value;\n    const event = document.createEvent('HTMLEvents');\n    event.initEvent('change', false, true);\n    node.dispatchEvent(event);\n  }, value);\n};\n\nexport const scrollElementIntoView = async (selector: string, root?: puppeteer.JSHandle) => {\n  const element = await $(selector, root);\n\n  if (!element) {\n    throw new Error(`Unable to find element with selector \"${selector}\"`);\n  }\n\n  await element.evaluate(el => {\n    el.scrollIntoView();\n  });\n};\n\nexport const installEventListener = function(frontend: puppeteer.Page, eventType: string) {\n  return frontend.evaluate(eventType => {\n    if (!('__pendingEvents' in window)) {\n      window.__pendingEvents = new Map();\n    }\n    window.addEventListener(eventType, (e: Event) => {\n      let events = window.__pendingEvents.get(eventType);\n      if (!events) {\n        events = [];\n        window.__pendingEvents.set(eventType, events);\n      }\n      events.push(e);\n    });\n  }, eventType);\n};\n\nexport const getPendingEvents = function(frontend: puppeteer.Page, eventType: string) {\n  return frontend.evaluate(eventType => {\n    if (!('__pendingEvents' in window)) {\n      return [];\n    }\n    const pendingEvents = window.__pendingEvents.get(eventType);\n    window.__pendingEvents.set(eventType, []);\n    return pendingEvents || [];\n  }, eventType);\n};\n\nexport const hasClass = async(element: puppeteer.ElementHandle<Element>, classname: string): Promise<boolean> => {\n  return await element.evaluate((el, classname) => el.classList.contains(classname), classname);\n};\n\nexport const waitForClass = async(element: puppeteer.ElementHandle<Element>, classname: string): Promise<void> => {\n  await waitForFunction(async () => {\n    return hasClass(element, classname);\n  });\n};\n\n/**\n * This is useful to keep TypeScript happy in a test - if you have a value\n * that's potentially `null` you can use this function to assert that it isn't,\n * and satisfy TypeScript that the value is present.\n */\nexport function assertNotNullOrUndefined<T>(val: T): asserts val is NonNullable<T> {\n  if (val === null || val === undefined) {\n    throw new Error(`Expected given value to not be null/undefined but it was: ${val}`);\n  }\n}\n\n// We export Puppeteer so other test utils can import it from here and not rely\n// on Node modules resolution to import it.\nexport {getBrowserAndPages, getDevToolsFrontendHostname, getTestServerPort, reloadDevTools, puppeteer};\n\nexport function matchString(actual: string, expected: string|RegExp): true|string {\n  if (typeof expected === 'string') {\n    if (actual !== expected) {\n      return `Expected item \"${actual}\" to equal \"${expected}\"`;\n    }\n  } else if (!expected.test(actual)) {\n    return `Expected item \"${actual}\" to match \"${expected}\"`;\n  }\n  return true;\n}\n\nexport function matchArray<A, E>(\n    actual: A[], expected: E[], comparator: (actual: A, expected: E) => true | string): true|string {\n  if (actual.length !== expected.length) {\n    return `Expected [${actual.map(x => `\"${x}\"`).join(', ')}] to have length ${expected.length}`;\n  }\n\n  for (let i = 0; i < expected.length; ++i) {\n    const result = comparator(actual[i], expected[i]);\n    if (result !== true) {\n      return `Mismatch in row ${i}: ${result}`;\n    }\n  }\n  return true;\n}\n\nexport function assertOk<Args extends unknown[]>(check: (...args: Args) => true | string) {\n  return (...args: Args) => {\n    const result = check(...args);\n    if (result !== true) {\n      throw new AssertionError(result);\n    }\n  };\n}\n\nexport function matchTable<A, E>(\n    actual: A[][], expected: E[][], comparator: (actual: A, expected: E) => true | string) {\n  return matchArray(actual, expected, (actual, expected) => matchArray<A, E>(actual, expected, comparator));\n}\n\nexport const matchStringArray = (actual: string[], expected: (string|RegExp)[]) =>\n    matchArray(actual, expected, matchString);\n\nexport const assertMatchArray = assertOk(matchStringArray);\n\nexport const matchStringTable = (actual: string[][], expected: (string|RegExp)[][]) =>\n    matchTable(actual, expected, matchString);\n\nexport async function renderCoordinatorQueueEmpty(): Promise<void> {\n  const {frontend} = getBrowserAndPages();\n  await frontend.evaluate(() => {\n    return new Promise<void>(resolve => {\n      const pendingFrames = globalThis.__getRenderCoordinatorPendingFrames();\n      if (pendingFrames < 1) {\n        resolve();\n        return;\n      }\n      globalThis.addEventListener('renderqueueempty', resolve, {once: true});\n    });\n  });\n}\n\nexport async function setCheckBox(selector: string, wantChecked: boolean): Promise<void> {\n  const checkbox = await waitFor(selector);\n  const checked = await checkbox.evaluate(box => (box as HTMLInputElement).checked);\n  if (checked !== wantChecked) {\n    await click(`${selector} + label`);\n  }\n  assert.strictEqual(await checkbox.evaluate(box => (box as HTMLInputElement).checked), wantChecked);\n}\n"]}