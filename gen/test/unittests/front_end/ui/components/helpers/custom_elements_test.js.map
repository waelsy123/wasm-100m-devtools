{"version":3,"file":"custom_elements_test.js","sourceRoot":"","sources":["../../../../../../../../../test/unittests/front_end/ui/components/helpers/custom_elements_test.ts"],"names":[],"mappings":"AAAA,4DAA4D;AAC5D,yEAAyE;AACzE,6BAA6B;AAE7B,OAAO,KAAK,gBAAgB,MAAM,8DAA8D,CAAC;AACjG,OAAO,EAAC,oBAAoB,EAAC,MAAM,gCAAgC,CAAC;AAEpE,MAAM,EAAC,MAAM,EAAC,GAAG,IAAI,CAAC;AAEtB,MAAM,aAAc,SAAQ,WAAW;IAC7B,MAAM;QACZ,IAAI,CAAC,SAAS,GAAG,qBAAqB,CAAC;IACzC,CAAC;IAED,iBAAiB;QACf,IAAI,CAAC,MAAM,EAAE,CAAC;IAChB,CAAC;CACF;AAED,QAAQ,CAAC,mBAAmB,EAAE,GAAG,EAAE;IACjC,IAAI,IAAqB,CAAC;IAC1B,UAAU,CAAC,GAAG,EAAE;QACd,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;IACtC,CAAC,CAAC,CAAC;IAEH,SAAS,CAAC,GAAG,EAAE;QACb,IAAI,CAAC,OAAO,EAAE,CAAC;IACjB,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,6BAA6B,EAAE,GAAG,EAAE;QACrC,gBAAgB,CAAC,cAAc,CAAC,eAAe,CAAC,gBAAgB,EAAE,KAAM,SAAQ,aAAa;SAAG,CAAC,CAAC;QAClG,MAAM,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC,gBAAgB,CAAC,CAAC;QAC/D,oBAAoB,CAAC,aAAa,CAAC,CAAC;QACpC,MAAM,CAAC,WAAW,CAAC,aAAa,CAAC,SAAS,EAAE,qBAAqB,CAAC,CAAC;IACrE,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,sCAAsC,EAAE,GAAG,EAAE;QAC9C,MAAM,iBAAiB,GAAG,KAAM,SAAQ,aAAa;SAAG,CAAC;QACzD,gBAAgB,CAAC,cAAc,CAAC,eAAe,CAAC,kBAAkB,EAAE,iBAAiB,CAAC,CAAC;QACvF,gBAAgB,CAAC,cAAc,CAAC,eAAe,CAAC,kBAAkB,EAAE,iBAAiB,CAAC,CAAC;QACvF,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,EAAE,sBAAsB,CAAC,CAAC;QACvD,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,mCAAmC,CAAC,EAAE,gCAAgC,CAAC,CAAC;IACxG,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["// Copyright 2021 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as ComponentHelpers from '../../../../../../front_end/ui/components/helpers/helpers.js';\nimport {renderElementIntoDOM} from '../../../helpers/DOMHelpers.js';\n\nconst {assert} = chai;\n\nclass TestComponent extends HTMLElement {\n  private render() {\n    this.innerHTML = '<p>Hello world!</p>';\n  }\n\n  connectedCallback() {\n    this.render();\n  }\n}\n\ndescribe('defineComponent()', () => {\n  let stub: sinon.SinonStub;\n  beforeEach(() => {\n    stub = sinon.stub(console, 'error');\n  });\n\n  afterEach(() => {\n    stub.restore();\n  });\n\n  it('defines component correctly', () => {\n    ComponentHelpers.CustomElements.defineComponent('test-component', class extends TestComponent {});\n    const testComponent = document.createElement('test-component');\n    renderElementIntoDOM(testComponent);\n    assert.strictEqual(testComponent.innerHTML, '<p>Hello world!</p>');\n  });\n\n  it('errors if component is defined twice', () => {\n    const newClassComponent = class extends TestComponent {};\n    ComponentHelpers.CustomElements.defineComponent('test-component-1', newClassComponent);\n    ComponentHelpers.CustomElements.defineComponent('test-component-1', newClassComponent);\n    assert.isTrue(stub.calledOnce, 'Not called just once');\n    assert.isTrue(stub.calledWith('test-component-1 already defined!'), 'Not called with correct output');\n  });\n});\n"]}