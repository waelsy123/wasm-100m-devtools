{"version":3,"file":"ComputedStyleTrace_test.js","sourceRoot":"","sources":["../../../../../../../../../test/unittests/front_end/panels/elements/components/ComputedStyleTrace_test.ts"],"names":[],"mappings":"AAAA,4DAA4D;AAC5D,yEAAyE;AACzE,6BAA6B;AAE7B,OAAO,KAAK,kBAAkB,MAAM,sEAAsE,CAAC;AAC3G,OAAO,EAAC,gBAAgB,EAAE,oBAAoB,EAAC,MAAM,gCAAgC,CAAC;AAEtF,MAAM,EAAC,MAAM,EAAC,GAAG,IAAI,CAAC;AAEtB,QAAQ,CAAC,oBAAoB,EAAE,KAAK,IAAI,EAAE;IACxC,EAAE,CAAC,+CAA+C,EAAE,GAAG,EAAE;QACvD,MAAM,SAAS,GAAG,IAAI,kBAAkB,CAAC,kBAAkB,CAAC,kBAAkB,EAAE,CAAC;QACjF,oBAAoB,CAAC,SAAS,CAAC,CAAC;QAChC,MAAM,QAAQ,GAAG,KAAK,CAAC;QACvB,MAAM,IAAI,GAAG;YACX,QAAQ;YACR,MAAM,EAAE,IAAI;YACZ,kBAAkB,EAAE,GAAG,EAAE,GAAE,CAAC;SAC7B,CAAC;QACF,SAAS,CAAC,IAAI,GAAG,IAAI,CAAC;QAEtB,gBAAgB,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;QACvC,MAAM,gBAAgB,GAAG,SAAS,CAAC,UAAU,CAAC,aAAa,CAAC,iBAAiB,CAAC,CAAC;QAC/E,IAAI,CAAC,gBAAgB,EAAE;YACrB,MAAM,CAAC,IAAI,CAAC,2BAA2B,CAAC,CAAC;YACzC,OAAO;SACR;QACD,MAAM,CAAC,WAAW,CAAC,gBAAgB,CAAC,WAAW,EAAE,QAAQ,CAAC,CAAC;IAC7D,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,2CAA2C,EAAE,GAAG,EAAE;QACnD,MAAM,SAAS,GAAG,IAAI,kBAAkB,CAAC,kBAAkB,CAAC,kBAAkB,EAAE,CAAC;QACjF,oBAAoB,CAAC,SAAS,CAAC,CAAC;QAChC,IAAI,YAAY,GAAG,CAAC,CAAC;QACrB,MAAM,IAAI,GAAG;YACX,QAAQ,EAAE,KAAK;YACf,MAAM,EAAE,IAAI;YACZ,kBAAkB,EAAE,GAAG,EAAE;gBACvB,YAAY,EAAE,CAAC;YACjB,CAAC;SACF,CAAC;QACF,SAAS,CAAC,IAAI,GAAG,IAAI,CAAC;QAEtB,gBAAgB,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;QACvC,MAAM,IAAI,GAAG,SAAS,CAAC,UAAU,CAAC,aAAa,CAAc,OAAO,CAAC,CAAC;QACtE,IAAI,CAAC,IAAI,EAAE;YACT,MAAM,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;YAClC,OAAO;SACR;QACD,IAAI,CAAC,KAAK,EAAE,CAAC;QACb,MAAM,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC,EAAE,+BAA+B,CAAC,CAAC;QAErE,MAAM,UAAU,GAAG,SAAS,CAAC,UAAU,CAAC,aAAa,CAAc,0BAA0B,CAAC,CAAC;QAC/F,IAAI,CAAC,UAAU,EAAE;YACf,MAAM,CAAC,IAAI,CAAC,mCAAmC,CAAC,CAAC;YACjD,OAAO;SACR;QACD,UAAU,CAAC,KAAK,EAAE,CAAC;QACnB,MAAM,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC,EAAE,iCAAiC,CAAC,CAAC;IACzE,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["// Copyright 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as ElementsComponents from '../../../../../../front_end/panels/elements/components/components.js';\nimport {assertShadowRoot, renderElementIntoDOM} from '../../../helpers/DOMHelpers.js';\n\nconst {assert} = chai;\n\ndescribe('ComputedStyleTrace', async () => {\n  it('renders ComputedStyleTrace selector correctly', () => {\n    const component = new ElementsComponents.ComputedStyleTrace.ComputedStyleTrace();\n    renderElementIntoDOM(component);\n    const selector = '#id';\n    const data = {\n      selector,\n      active: true,\n      onNavigateToSource: () => {},\n    };\n    component.data = data;\n\n    assertShadowRoot(component.shadowRoot);\n    const renderedSelector = component.shadowRoot.querySelector('.trace-selector');\n    if (!renderedSelector) {\n      assert.fail('selector was not rendered');\n      return;\n    }\n    assert.strictEqual(renderedSelector.textContent, selector);\n  });\n\n  it('has a clickable goto icon and trace value', () => {\n    const component = new ElementsComponents.ComputedStyleTrace.ComputedStyleTrace();\n    renderElementIntoDOM(component);\n    let clickCounter = 0;\n    const data = {\n      selector: '#id',\n      active: true,\n      onNavigateToSource: () => {\n        clickCounter++;\n      },\n    };\n    component.data = data;\n\n    assertShadowRoot(component.shadowRoot);\n    const goto = component.shadowRoot.querySelector<HTMLElement>('.goto');\n    if (!goto) {\n      assert.fail('goto did not exist');\n      return;\n    }\n    goto.click();\n    assert.strictEqual(clickCounter, 1, 'goto icon should be clickable');\n\n    const traceValue = component.shadowRoot.querySelector<HTMLElement>('slot[name=\"trace-value\"]');\n    if (!traceValue) {\n      assert.fail('trace value slot was not rendered');\n      return;\n    }\n    traceValue.click();\n    assert.strictEqual(clickCounter, 2, 'trace value should be clickable');\n  });\n});\n"]}