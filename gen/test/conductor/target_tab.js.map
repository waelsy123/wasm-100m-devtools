{"version":3,"file":"target_tab.js","sourceRoot":"","sources":["../../../../../test/conductor/target_tab.ts"],"names":[],"mappings":";AAAA,4DAA4D;AAC5D,yEAAyE;AACzE,6BAA6B;;;AAM7B,uDAAiE;AAEjE;;;GAGG;AACH,MAAa,SAAS;IACS;IAA7B,YAA6B,IAAoB;QAApB,SAAI,GAAJ,IAAI,CAAgB;IACjD,CAAC;IAED,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,OAA0B;QAC5C,MAAM,IAAI,GAAG,MAAM,OAAO,CAAC,OAAO,EAAE,CAAC;QACrC,MAAM,IAAA,gDAA8B,EAAC,IAAI,CAAC,CAAC;QAC3C,OAAO,IAAI,SAAS,CAAC,IAAI,CAAC,CAAC;IAC7B,CAAC;IAED,KAAK,CAAC,KAAK;QACT,MAAM,IAAA,gDAA8B,EAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAClD,CAAC;IAED,QAAQ;QACN,2GAA2G;QAC3G,OAAO,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,SAAS,CAAC;IACtC,CAAC;CACF;AAlBD,8BAkBC","sourcesContent":["// Copyright 2022 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n// use require here due to\n// https://github.com/evanw/esbuild/issues/587#issuecomment-901397213\nimport puppeteer = require('puppeteer');\n\nimport {loadEmptyPageAndWaitForContent} from './frontend_tab.js';\n\n/**\n * Wrapper class around `puppeteer.Page` that helps with setting up and\n * managing a tab that can be inspected by the DevTools frontend.\n */\nexport class TargetTab {\n  private constructor(readonly page: puppeteer.Page) {\n  }\n\n  static async create(browser: puppeteer.Browser): Promise<TargetTab> {\n    const page = await browser.newPage();\n    await loadEmptyPageAndWaitForContent(page);\n    return new TargetTab(page);\n  }\n\n  async reset(): Promise<void> {\n    await loadEmptyPageAndWaitForContent(this.page);\n  }\n\n  targetId(): string {\n    // TODO(crbug.com/1297458): Replace private property access with public getter once available in puppeteer.\n    return this.page.target()._targetId;\n  }\n}\n"]}