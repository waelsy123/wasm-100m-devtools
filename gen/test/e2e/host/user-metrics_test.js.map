{"version":3,"file":"user-metrics_test.js","sourceRoot":"","sources":["../../../../../../test/e2e/host/user-metrics_test.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport {assert} from 'chai';\nimport type * as puppeteer from 'puppeteer';\n\nimport {$, click, enableExperiment, getBrowserAndPages, goToResource, platform, pressKey, reloadDevTools, scrollElementIntoView, typeText, waitFor, waitForFunction} from '../../shared/helper.js';\nimport {describe, it} from '../../shared/mocha-extensions.js';\nimport {toggleShowCorsErrors} from '../helpers/console-helpers.js';\nimport {navigateToCssOverviewTab, startCaptureCSSOverview} from '../helpers/css-overview-helpers.js';\nimport {editCSSProperty, focusElementsTree, navigateToSidePane, waitForContentOfSelectedElementsNode, waitForElementsStyleSection} from '../helpers/elements-helpers.js';\nimport {openCommandMenu} from '../helpers/quick_open-helpers.js';\nimport {closeSecurityTab, navigateToSecurityTab} from '../helpers/security-helpers.js';\nimport {openPanelViaMoreTools, openSettingsTab} from '../helpers/settings-helpers.js';\n\ninterface UserMetrics {\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  Action: {[name: string]: number};\n}\n\ninterface EnumHistogramEvent {\n  actionName: string;\n  actionCode: number;\n}\n\ninterface EnumHistogramEventWithOptionalCode {\n  actionName: string;\n  actionCode?: number;\n}\n\ninterface PerformanceHistogramEvent {\n  histogramName: string;\n  duration: number;\n}\n\ndeclare global {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  interface Window {\n    /* eslint-disable @typescript-eslint/naming-convention */\n    Host: {\n      UserMetrics: UserMetrics,\n      userMetrics: {\n        actionTaken(name: number): void,\n      },\n    };\n  }\n  /* eslint-enable @typescript-eslint/naming-convention */\n}\n\nfunction retrieveRecordedHistogramEvents(frontend: puppeteer.Page): Promise<EnumHistogramEvent[]> {\n  // @ts-ignore\n  return frontend.evaluate(() => window.InspectorFrontendHost.recordedEnumeratedHistograms);\n}\n\nfunction retrieveRecordedPerformanceHistogramEvents(frontend: puppeteer.Page): Promise<PerformanceHistogramEvent[]> {\n  // @ts-ignore\n  return frontend.evaluate(() => window.InspectorFrontendHost.recordedPerformanceHistograms);\n}\n\nasync function assertHistogramEventsInclude(expected: EnumHistogramEvent[]) {\n  const {frontend} = getBrowserAndPages();\n  const events = await retrieveRecordedHistogramEvents(frontend);\n\n  assert.includeDeepMembers(events, expected);\n}\n\nasync function waitForHistogramEvent(expected: EnumHistogramEventWithOptionalCode) {\n  const {frontend} = getBrowserAndPages();\n  await waitForFunction(async () => {\n    const events = await retrieveRecordedHistogramEvents(frontend);\n    return events.find(\n        e => e.actionName === expected.actionName && (!('value' in expected) || e.actionCode === expected.actionCode));\n  });\n}\n\ndescribe('User Metrics', () => {\n  it('dispatches dock and undock events', async () => {\n    const {frontend} = getBrowserAndPages();\n    await frontend.evaluate(() => {\n      self.Host.userMetrics.actionTaken(self.Host.UserMetrics.Action.WindowDocked);\n      self.Host.userMetrics.actionTaken(self.Host.UserMetrics.Action.WindowUndocked);\n    });\n    await assertHistogramEventsInclude([\n      {\n        actionName: 'DevTools.ActionTaken',\n        actionCode: 1,  // WindowDocked.\n      },\n      {\n        actionName: 'DevTools.ActionTaken',\n        actionCode: 2,  // WindowUndocked.\n      },\n    ]);\n  });\n\n  it('dispatches a metric event the console drawer', async () => {\n    const {frontend} = getBrowserAndPages();\n\n    await frontend.keyboard.press('Escape');\n    await frontend.waitForSelector('.console-view');\n\n    await assertHistogramEventsInclude([\n      {\n        actionName: 'DevTools.PanelShown',\n        actionCode: 10,  // drawer-console-view.\n      },\n      {\n        actionName: 'DevTools.KeyboardShortcutFired',\n        actionCode: 17,  // main.toggle-drawer\n      },\n    ]);\n  });\n\n  it('dispatches a metric event for show CORS errors console settings', async () => {\n    const {frontend} = getBrowserAndPages();\n\n    await frontend.keyboard.press('Escape');\n    await frontend.waitForSelector('.console-view');\n    await toggleShowCorsErrors();\n    await toggleShowCorsErrors();\n\n    await assertHistogramEventsInclude([\n      {\n        actionName: 'DevTools.PanelShown',\n        actionCode: 10,  // drawer-console-view.\n      },\n      {\n        actionName: 'DevTools.ConsoleShowsCorsErrors',\n        actionCode: 0,  // disabled\n      },\n      {\n        actionName: 'DevTools.ConsoleShowsCorsErrors',\n        actionCode: 1,  // enabled\n      },\n    ]);\n  });\n\n  it('dispatches events for views', async () => {\n    const {frontend} = getBrowserAndPages();\n\n    // Head to the Timeline tab.\n    await click('#tab-timeline');\n    await frontend.waitForSelector('.timeline');\n\n    await assertHistogramEventsInclude([{\n      actionName: 'DevTools.PanelShown',\n      actionCode: 5,  // Timeline.\n    }]);\n  });\n\n  it('dispatches events for triple dot items', async () => {\n    await openPanelViaMoreTools('Animations');\n\n    await assertHistogramEventsInclude([\n      {\n        actionName: 'DevTools.PanelShown',\n        actionCode: 10,  // 'console-view'.\n      },\n      {\n        actionName: 'DevTools.PanelShown',\n        actionCode: 11,  // 'animations'.\n      },\n    ]);\n  });\n\n  it('dispatches events for opening issues drawer via hamburger menu', async () => {\n    await openPanelViaMoreTools('Issues');\n\n    await assertHistogramEventsInclude([\n      {\n        actionName: 'DevTools.IssuesPanelOpenedFrom',\n        actionCode: 3,  // 'HamburgerMenu'.\n      },\n      {\n        actionName: 'DevTools.PanelShown',\n        actionCode: 10,  // 'console-view'.\n      },\n      {\n        actionName: 'DevTools.PanelShown',\n        actionCode: 37,  // 'issues-pane'.\n      },\n    ]);\n  });\n\n  it('dispatches event when opening issues drawer via command menu', async () => {\n    await openCommandMenu();\n    await typeText('issues');\n    await waitFor('.filtered-list-widget-title');\n    await pressKey('Enter');\n    await waitFor('[aria-label=\"Issues panel\"]');\n\n    await assertHistogramEventsInclude([\n      {\n        actionName: 'DevTools.IssuesPanelOpenedFrom',\n        actionCode: 5,  // CommandMenu\n      },\n    ]);\n  });\n\n  it('dispatches an event when F1 is used to open settings', async () => {\n    const {frontend} = getBrowserAndPages();\n\n    await frontend.keyboard.press('F1');\n    await waitFor('.settings-window-main');\n\n    await assertHistogramEventsInclude([\n      {\n        actionName: 'DevTools.PanelShown',\n        actionCode: 29,\n      },\n      {\n        actionName: 'DevTools.KeyboardShortcutFired',\n        actionCode: 22,  // settings.show\n      },\n    ]);\n  });\n\n  it('dispatches an event when Ctrl/Meta+F8 is used to deactivate breakpoints', async () => {\n    const {frontend} = getBrowserAndPages();\n\n    await click('#tab-sources');\n    await waitFor('#sources-panel-sources-view');\n\n    switch (platform) {\n      case 'mac':\n        await frontend.keyboard.down('Meta');\n        break;\n\n      case 'linux':\n      case 'win32':\n        await frontend.keyboard.down('Control');\n        break;\n    }\n\n    await frontend.keyboard.press('F8');\n\n    switch (platform) {\n      case 'mac':\n        await frontend.keyboard.up('Meta');\n        break;\n\n      case 'linux':\n      case 'win32':\n        await frontend.keyboard.up('Control');\n        break;\n    }\n\n    await waitFor('[aria-label=\"Activate breakpoints\"]');\n\n    await assertHistogramEventsInclude([\n      {\n        actionName: 'DevTools.PanelShown',\n        actionCode: 4,  // sources\n      },\n      {\n        actionName: 'DevTools.KeyboardShortcutFired',\n        actionCode: 35,  // debugger.toggle-breakpoints-active\n      },\n    ]);\n  });\n\n  it('dispatches an event when the keybindSet setting is changed', async () => {\n    const {frontend} = getBrowserAndPages();\n\n    await frontend.keyboard.press('F1');\n    await waitFor('.settings-window-main');\n    await click('[aria-label=\"Shortcuts\"]');\n    await waitFor('.keybinds-set-select');\n\n    const keybindSetSelect = await $('.keybinds-set-select select') as puppeteer.ElementHandle<HTMLSelectElement>;\n    keybindSetSelect.select('vsCode');\n\n    await assertHistogramEventsInclude([\n      {\n        actionName: 'DevTools.PanelShown',\n        actionCode: 29,  // settings-preferences\n      },\n      {\n        actionName: 'DevTools.KeyboardShortcutFired',\n        actionCode: 22,  // settings.show\n      },\n      {\n        actionName: 'DevTools.PanelShown',\n        actionCode: 38,  // settings-keybinds\n      },\n      {\n        actionName: 'DevTools.KeybindSetSettingChanged',\n        actionCode: 1,  // vsCode\n      },\n    ]);\n  });\n\n  it('dispatches closed panel events for views', async () => {\n    // Focus and close a tab\n    await navigateToSecurityTab();\n    await closeSecurityTab();\n\n    await assertHistogramEventsInclude([\n      {\n        actionName: 'DevTools.PanelShown',\n        actionCode: 16,  // Security\n      },\n      {\n        actionName: 'DevTools.PanelShown',\n        actionCode: 1,\n      },\n      {\n        actionName: 'DevTools.PanelClosed',\n        actionCode: 16,  // Security\n      },\n    ]);\n  });\n\n  it('dispatches an event when experiments are enabled and disabled', async () => {\n    await openSettingsTab('Experiments');\n    const customThemeCheckbox = await waitFor('[aria-label=\"Allow extensions to load custom stylesheets\"]');\n    // Enable the experiment\n    await customThemeCheckbox.click();\n    // Disable the experiment\n    await customThemeCheckbox.click();\n\n    await assertHistogramEventsInclude([\n      {\n        actionName: 'DevTools.PanelShown',\n        actionCode: 29,  // settings-preferences\n      },\n      {\n        actionName: 'DevTools.PanelShown',\n        actionCode: 31,  // Experiments\n      },\n      {\n        actionName: 'DevTools.ExperimentEnabled',\n        actionCode: 0,  // Allow extensions to load custom stylesheets\n      },\n      {\n        actionName: 'DevTools.ExperimentDisabled',\n        actionCode: 0,  // Allow extensions to load custom stylesheets\n      },\n    ]);\n  });\n\n  it('tracks panel loading', async () => {\n    // We specify the selected panel here because the default behavior is to go to the\n    // elements panel, but this means we won't get the PanelLoaded event. Instead we\n    // request that the resetPages helper sets the timeline as the target panel, and\n    // we wait for the timeline in the test. This means, in turn, we get the PanelLoaded\n    // event.\n    await reloadDevTools({selectedPanel: {name: 'timeline'}});\n    const {frontend} = getBrowserAndPages();\n\n    await waitFor('.timeline');\n\n    const events = await retrieveRecordedPerformanceHistogramEvents(frontend);\n\n    assert.strictEqual(events.length, 1);\n    assert.strictEqual(events[0].histogramName, 'DevTools.Launch.Timeline');\n  });\n\n  it('records the selected language', async () => {\n    await assertHistogramEventsInclude([\n      {\n        actionName: 'DevTools.Language',\n        actionCode: 17,  // en-US\n      },\n    ]);\n  });\n\n  it('records the sync setting', async () => {\n    await assertHistogramEventsInclude([{\n      actionName: 'DevTools.SyncSetting',\n      actionCode: 1,  // Chrome Sync is disabled\n    }]);\n  });\n});\n\ndescribe('User Metrics for CSS Overview', () => {\n  it('dispatch events when capture overview button hit', async () => {\n    await goToResource('css_overview/default.html');\n    await navigateToCssOverviewTab();\n\n    await startCaptureCSSOverview();\n\n    await assertHistogramEventsInclude([\n      {\n        actionName: 'DevTools.PanelShown',\n        actionCode: 39,  // cssoverview\n      },\n      {\n        actionName: 'DevTools.ActionTaken',\n        actionCode: 41,  // CaptureCssOverviewClicked\n      },\n    ]);\n  });\n});\n\ndescribe('User Metrics for sidebar panes', () => {\n  it('dispatches sidebar panes events for navigating Elements Panel sidebar panes', async () => {\n    await navigateToSidePane('Computed');\n    await assertHistogramEventsInclude([\n      {\n        actionName: 'DevTools.SidebarPaneShown',\n        actionCode: 2,  // Computed\n      },\n    ]);\n  });\n\n  it('should not dispatch sidebar panes events for navigating to the same pane', async () => {\n    await navigateToSidePane('Styles');\n\n    const {frontend} = getBrowserAndPages();\n    const events = await retrieveRecordedHistogramEvents(frontend);\n    const eventNames = events.map(event => event.actionName);\n\n    assert.notInclude(eventNames, 'DevTools.SidebarPaneShown');\n  });\n});\n\ndescribe('User Metrics for Issue Panel', () => {\n  beforeEach(async () => {\n    await enableExperiment('contrastIssues');\n    await openPanelViaMoreTools('Issues');\n  });\n\n  it('dispatches an event when a LowTextContrastIssue is created', async () => {\n    await goToResource('elements/low-contrast.html');\n    await waitFor('.issue');\n\n    await assertHistogramEventsInclude([\n      {\n        actionName: 'DevTools.IssueCreated',\n        actionCode: 41,  // LowTextContrastIssue\n      },\n      {\n        actionName: 'DevTools.IssueCreated',\n        actionCode: 41,  // LowTextContrastIssue\n      },\n      {\n        actionName: 'DevTools.IssueCreated',\n        actionCode: 41,  // LowTextContrastIssue\n      },\n      {\n        actionName: 'DevTools.IssueCreated',\n        actionCode: 41,  // LowTextContrastIssue\n      },\n    ]);\n  });\n\n  it('dispatches an event when a SharedArrayBufferIssue is created', async () => {\n    await goToResource('issues/sab-issue.rawresponse');\n    await waitFor('.issue');\n\n    await assertHistogramEventsInclude([\n      {\n        actionName: 'DevTools.IssueCreated',\n        actionCode: 37,  // SharedArrayBufferIssue::CreationIssue\n      },\n      {\n        actionName: 'DevTools.IssueCreated',\n        actionCode: 60,  // DeprecationIssue\n      },\n      {\n        actionName: 'DevTools.IssueCreated',\n        actionCode: 36,  // SharedArrayBufferIssue::TransferIssue\n      },\n    ]);\n  });\n\n  it('dispatch events when a link to an element is clicked', async () => {\n    await goToResource('elements/element-reveal-inline-issue.html');\n    await waitFor('.issue');\n    await click('.issue');\n\n    await waitFor('.element-reveal-icon');\n    await scrollElementIntoView('.element-reveal-icon');\n    await click('.element-reveal-icon');\n\n    await assertHistogramEventsInclude([\n      {\n        actionName: 'DevTools.IssueCreated',\n        actionCode: 1,  // ContentSecurityPolicyIssue\n      },\n      {\n        actionName: 'DevTools.IssueCreated',\n        actionCode: 1,  // ContentSecurityPolicyIssue\n      },\n      {\n        actionName: 'DevTools.IssuesPanelIssueExpanded',\n        actionCode: 4,  // ContentSecurityPolicy\n      },\n      {\n        actionName: 'DevTools.IssuesPanelResourceOpened',\n        actionCode: 7,  // ContentSecurityPolicyElement\n      },\n    ]);\n  });\n\n  it('dispatch events when a \"Learn More\" link is clicked', async () => {\n    await goToResource('elements/element-reveal-inline-issue.html');\n    await waitFor('.issue');\n    await click('.issue');\n\n    await waitFor('.link-list x-link');\n    await scrollElementIntoView('.link-list x-link');\n    await click('.link-list x-link');\n\n    await assertHistogramEventsInclude([\n      {\n        actionName: 'DevTools.IssueCreated',\n        actionCode: 1,  // ContentSecurityPolicyIssue\n      },\n      {\n        actionName: 'DevTools.IssueCreated',\n        actionCode: 1,  // ContentSecurityPolicyIssue\n      },\n      {\n        actionName: 'DevTools.IssuesPanelIssueExpanded',\n        actionCode: 4,  // ContentSecurityPolicy\n      },\n      {\n        actionName: 'DevTools.IssuesPanelResourceOpened',\n        actionCode: 12,  // ContentSecurityPolicyLearnMore\n      },\n    ]);\n  });\n\n  it('dispatches events when Quirks Mode issues are created', async () => {\n    await goToResource('elements/quirks-mode-iframes.html');\n    await waitFor('.issue');\n\n    await assertHistogramEventsInclude([\n      {\n        actionName: 'DevTools.IssueCreated',\n        actionCode: 58,  // QuirksModeIssue::QuirksMode\n      },\n      {\n        actionName: 'DevTools.IssueCreated',\n        actionCode: 59,  // QuirksModeIssue::LimitedQuirksMode\n      },\n    ]);\n  });\n\n  it('dispatches an event when a Client Hints are used with invalid origin', async () => {\n    await goToResource('issues/client-hint-issue-MetaTagAllowListInvalidOrigin.html');\n    await waitFor('.issue');\n\n    await assertHistogramEventsInclude([\n      {\n        actionName: 'DevTools.IssueCreated',\n        actionCode: 61,  // ClientHintIssue::MetaTagAllowListInvalidOrigin\n      },\n    ]);\n  });\n\n  it('dispatches an event when a Client Hints are modified by javascript', async () => {\n    await goToResource('issues/client-hint-issue-MetaTagModifiedHTML.html');\n    await waitFor('.issue');\n\n    await assertHistogramEventsInclude([\n      {\n        actionName: 'DevTools.IssueCreated',\n        actionCode: 62,  // ClientHintIssue::MetaTagModifiedHTML\n      },\n    ]);\n  });\n});\n\ndescribe('User Metrics for CSS custom properties in the Styles pane', () => {\n  beforeEach(async () => {\n    await goToResource('elements/css-variables.html');\n    await navigateToSidePane('Styles');\n    await waitForElementsStyleSection();\n    await waitForContentOfSelectedElementsNode('<body>\\u200B');\n    await focusElementsTree();\n  });\n\n  it('dispatch events when capture overview button hit', async () => {\n    const {frontend} = getBrowserAndPages();\n    await frontend.keyboard.press('ArrowRight');\n    await waitForContentOfSelectedElementsNode('<div id=\\u200B\"properties-to-inspect\">\\u200B</div>\\u200B');\n\n    await click('.css-var-link');\n    await assertHistogramEventsInclude([\n      {\n        actionName: 'DevTools.ActionTaken',\n        actionCode: 47,  // CustomPropertyLinkClicked\n      },\n    ]);\n  });\n\n  it('dispatch events when a custom property value is edited', async () => {\n    await editCSSProperty('body, body', '--color', '#f06');\n    await assertHistogramEventsInclude([\n      {\n        actionName: 'DevTools.ActionTaken',\n        actionCode: 14,  // StyleRuleEdited\n      },\n      {\n        actionName: 'DevTools.ActionTaken',\n        actionCode: 48,  // CustomPropertyEdited\n      },\n    ]);\n  });\n});\n\ndescribe('User Metrics for the Page Resource Loader', () => {\n  it('dispatches an event when a source map is loaded', async () => {\n    await goToResource('sources/script-with-sourcemap-without-mappings.html');\n    await waitForHistogramEvent(\n        {\n          actionName: 'DevTools.DeveloperResourceLoaded',\n          actionCode: 0,  // LoadThroughPageViaTarget\n        },\n    );\n    await waitForHistogramEvent(\n        {\n          actionName: 'DevTools.DeveloperResourceScheme',\n        },\n    );\n  });\n});\n"]}