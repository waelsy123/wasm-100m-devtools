{"version":3,"file":"network-request-view_test.js","sourceRoot":"","sources":["../../../../../../test/e2e/network/network-request-view_test.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2021 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport {assert} from 'chai';\n\nimport type {ElementHandle} from 'puppeteer';\nimport {expectError} from '../../conductor/events.js';\nimport {$$, click, step, typeText, waitFor, waitForElementWithTextContent, waitForFunction, getBrowserAndPages, getResourcesPath} from '../../shared/helper.js';\nimport {describe, it} from '../../shared/mocha-extensions.js';\nimport {CONSOLE_TAB_SELECTOR, focusConsolePrompt} from '../helpers/console-helpers.js';\nimport {getAllRequestNames, navigateToNetworkTab, selectRequestByName, waitForSomeRequestsToAppear} from '../helpers/network-helpers.js';\n\nconst SIMPLE_PAGE_REQUEST_NUMBER = 2;\nconst SIMPLE_PAGE_URL = `requests.html?num=${SIMPLE_PAGE_REQUEST_NUMBER}`;\n\ndescribe('The Network Request view', async () => {\n  it('re-opens the same tab after switching to another panel and navigating back to the \"Network\" tab (https://crbug.com/1184578)',\n     async () => {\n       await navigateToNetworkTab(SIMPLE_PAGE_URL);\n\n       await step('wait for all requests to be shown', async () => {\n         await waitForSomeRequestsToAppear(SIMPLE_PAGE_REQUEST_NUMBER + 1);\n       });\n\n       await step('select the first SVG request', async () => {\n         await selectRequestByName('image.svg?id=0');\n       });\n\n       await step('select the \"Timing\" tab', async () => {\n         const networkView = await waitFor('.network-item-view');\n         const timingTabHeader = await waitFor('[aria-label=Timing][role=\"tab\"]', networkView);\n         await click(timingTabHeader);\n         await waitFor('[aria-label=Timing][role=tab][aria-selected=true]', networkView);\n       });\n\n       await step('open the \"Console\" panel', async () => {\n         await click(CONSOLE_TAB_SELECTOR);\n         await focusConsolePrompt();\n       });\n\n       await step('open the \"Network\" panel', async () => {\n         await click('#tab-network');\n         await waitFor('.network-log-grid');\n       });\n\n       await step('ensure that the \"Timing\" tab is shown', async () => {\n         const networkView = await waitFor('.network-item-view');\n         const selectedTabHeader = await waitFor('[role=tab][aria-selected=true]', networkView);\n         const selectedTabText = await selectedTabHeader.evaluate(element => element.textContent || '');\n\n         assert.strictEqual(selectedTabText, 'Timing');\n       });\n     });\n\n  it('shows webbundle content on preview tab', async () => {\n    await navigateToNetworkTab('resources-from-webbundle.html');\n\n    await waitForSomeRequestsToAppear(3);\n\n    await selectRequestByName('webbundle.wbn');\n\n    const networkView = await waitFor('.network-item-view');\n    const previewTabHeader = await waitFor('[aria-label=Preview][role=tab]', networkView);\n    await click(previewTabHeader);\n    await waitFor('[aria-label=Preview][role=tab][aria-selected=true]', networkView);\n\n    await waitForElementWithTextContent('webbundle.wbn', networkView);\n    await waitForElementWithTextContent('uuid-in-package:429fcc4e-0696-4bad-b099-ee9175f023ae', networkView);\n    await waitForElementWithTextContent('uuid-in-package:020111b3-437a-4c5c-ae07-adb6bbffb720', networkView);\n  });\n\n  it('prevents requests on the preview tab.', async () => {\n    await navigateToNetworkTab('embedded_requests.html');\n\n    // For the issue to manifest it's mandatory to load the stylesheet by absolute URL. A relative URL would be treated\n    // relative to the data URL in the preview iframe and thus not work. We need to generate the URL because the\n    // resources path is dynamic, but we can't have any scripts in the resource page since they would be disabled in the\n    // preview. Therefore, the resource page contains just an iframe and we're filling it dynamically with content here.\n    const stylesheet = `${getResourcesPath()}/network/style.css`;\n    const contents = `<head><link rel=\"stylesheet\" href=\"${stylesheet}\"></head><body><p>Content</p></body>`;\n    const {target} = getBrowserAndPages();\n    await waitForFunction(async () => (await target.$('iframe')) ?? undefined);\n    const dataUrl = `data:text/html,${contents}`;\n    await target.evaluate((dataUrl: string) => {\n      (document.querySelector('iframe') as HTMLIFrameElement).src = dataUrl;\n    }, dataUrl);\n\n    await waitForSomeRequestsToAppear(3);\n\n    const names = await getAllRequestNames();\n    const name = names.find(v => v && v.startsWith('data:'));\n    assert.isNotNull(name);\n    await selectRequestByName(name as string);\n\n    const styleSrcError = expectError(`Refused to load the stylesheet '${stylesheet}'`);\n    const networkView = await waitFor('.network-item-view');\n    const previewTabHeader = await waitFor('[aria-label=Preview][role=tab]', networkView);\n    await click(previewTabHeader);\n    await waitFor('[aria-label=Preview][role=tab][aria-selected=true]', networkView);\n\n    const frame = await waitFor('.html-preview-frame');\n    const content = await waitForFunction(async () => (await frame.contentFrame() ?? undefined));\n    const p = await waitForFunction(async () => (await content.$('p') ?? undefined));\n\n    const color = await p.evaluate(e => getComputedStyle(e).color);\n\n    assert.deepEqual(color, 'rgb(0, 0, 0)');\n    await waitForFunction(async () => await styleSrcError.caught);\n  });\n\n  it('stores websocket filter', async () => {\n    const navigateToWebsocketMessages = async () => {\n      await navigateToNetworkTab('websocket.html');\n\n      await waitForSomeRequestsToAppear(2);\n\n      await selectRequestByName('localhost');\n\n      const networkView = await waitFor('.network-item-view');\n      const messagesTabHeader = await waitFor('[aria-label=Messages][role=tab]', networkView);\n      await click(messagesTabHeader);\n      await waitFor('[aria-label=Messages][role=tab][aria-selected=true]', networkView);\n      return waitFor('.websocket-frame-view');\n    };\n\n    let messagesView = await navigateToWebsocketMessages();\n    const waitForMessages = async (count: number) => {\n      return waitForFunction(async () => {\n        const messages = await $$('.data-column.websocket-frame-view-td', messagesView);\n        if (messages.length !== count) {\n          return undefined;\n        }\n        return Promise.all(messages.map(message => {\n          return message.evaluate(message => message.textContent || '');\n        }));\n      });\n    };\n    let messages = await waitForMessages(4);\n\n    const filterInput =\n        await waitFor('[aria-label=\"Enter regex, for example: (web)?socket\"][role=textbox]', messagesView);\n    filterInput.focus();\n    void typeText('ping');\n\n    messages = await waitForMessages(2);\n    assert.deepEqual(messages, ['ping', 'ping']);\n\n    messagesView = await navigateToWebsocketMessages();\n    messages = await waitForMessages(2);\n\n    assert.deepEqual(messages, ['ping', 'ping']);\n  });\n\n  async function assertOutlineMatches(expectedPatterns: string[], outline: ElementHandle<Element>[]) {\n    const regexpSpecialChars = /[-\\/\\\\^$*+?.()|[\\]{}]/g;\n    for (const item of outline) {\n      const actualText = await item.evaluate(el => el.textContent || '');\n      const expectedPattern = expectedPatterns.shift();\n      if (expectedPattern) {\n        assert.match(actualText, new RegExp(expectedPattern.replace(regexpSpecialChars, '\\\\$&').replace(/%/g, '.*')));\n      } else {\n        assert.fail('Unexpected text: ' + actualText);\n      }\n    }\n  }\n\n  it('shows request headers and payload', async () => {\n    await navigateToNetworkTab('headers-and-payload.html');\n\n    await waitForSomeRequestsToAppear(2);\n\n    await selectRequestByName('image.svg?id=42&param=a%20b');\n\n    const networkView = await waitFor('.network-item-view');\n    const headersTabHeader = await waitFor('[aria-label=Headers][role=\"tab\"]', networkView);\n    await click(headersTabHeader);\n    await waitFor('[aria-label=Headers][role=tab][aria-selected=true]', networkView);\n    const headersView = await waitFor('.request-headers-view');\n    const headersOutline = await $$('[role=treeitem]:not(.hidden)', headersView);\n    const expectedHeadersContent = [\n      'General',\n      [\n        'Request URL: https://localhost:%/test/e2e/resources/network/image.svg?id=42&param=a%20b',\n        'Request Method: POST',\n        'Status Code: 200 OK',\n        'Remote Address: [::1]:%',\n        'Referrer Policy: strict-origin-when-cross-origin',\n      ],\n      'Response Headers (7)View source',\n      [\n        'Cache-Control: max-age=%',\n        'Connection: keep-alive',\n        'Content-Type: image/svg+xml; charset=utf-8',\n        'Date: %',\n        'Keep-Alive: timeout=5',\n        'Transfer-Encoding: chunked',\n        'Vary: Origin',\n      ],\n      'Request Headers (17)View source',\n      [\n        'accept: */*',\n        'Accept-Encoding: gzip, deflate, br',\n        'Accept-Language: en-US',\n        'Connection: keep-alive',\n        'Content-Length: 32',\n        'content-type: application/x-www-form-urlencoded;charset=UTF-8',\n        'Host: localhost:%',\n        'Origin: https://localhost:%',\n        'Referer: https://localhost:%/test/e2e/resources/network/headers-and-payload.html',\n        'sec-ch-ua',\n        'sec-ch-ua-mobile: ?0',\n        'sec-ch-ua-platform',\n        'Sec-Fetch-Dest: empty',\n        'Sec-Fetch-Mode: cors',\n        'Sec-Fetch-Site: same-origin',\n        'User-Agent: Mozilla/5.0 %',\n        'x-same-domain: 1',\n      ],\n    ].flat();\n\n    await assertOutlineMatches(expectedHeadersContent, headersOutline);\n\n    const payloadTabHeader = await waitFor('[aria-label=Payload][role=\"tab\"]', networkView);\n    await click(payloadTabHeader);\n    await waitFor('[aria-label=Payload][role=tab][aria-selected=true]', networkView);\n    const payloadView = await waitFor('.request-payload-view');\n    const payloadOutline = await $$('[role=treeitem]:not(.hidden)', payloadView);\n    const expectedPayloadContent = [\n      'Query String Parameters (2)view sourceview URL-encoded',\n      ['id: 42', 'param: a b'],\n      'Form Data (4)view sourceview URL-encoded',\n      [\n        'foo: alpha',\n        'bar: beta:42:0',\n        'baz: ',\n        '(empty)',\n      ],\n    ].flat();\n\n    await assertOutlineMatches(expectedPayloadContent, payloadOutline);\n  });\n\n  it('shows raw headers', async () => {\n    await navigateToNetworkTab('headers-and-payload.html');\n\n    await waitForSomeRequestsToAppear(2);\n\n    await selectRequestByName('image.svg?id=42&param=a%20b');\n\n    const networkView = await waitFor('.network-item-view');\n    const headersTabHeader = await waitFor('[aria-label=Headers][role=\"tab\"]', networkView);\n    await click(headersTabHeader);\n    await waitFor('[aria-label=Headers][role=tab][aria-selected=true]', networkView);\n    const headersView = await waitFor('.request-headers-view');\n    const responseHeadersTitle = await waitForElementWithTextContent('Response Headers (7)View source');\n    const rawHeadersToggle = await waitFor('.header-toggle', responseHeadersTitle);\n    await click(rawHeadersToggle);\n\n    const headersOutline = await $$('[role=treeitem]:not(.hidden)', headersView);\n    const expectedHeadersContent = [\n      'General',\n      [\n        'Request URL: https://localhost:%/test/e2e/resources/network/image.svg?id=42&param=a%20b',\n        'Request Method: POST',\n        'Status Code: 200 OK',\n        'Remote Address: [::1]:%',\n        'Referrer Policy: strict-origin-when-cross-origin',\n      ],\n      'Response Headers (7)View parsed',\n      [\n        'HTTP/1.1 200 OK',\n        'Content-Type: image/svg+xml; charset=utf-8',\n        'Cache-Control: max-age=%',\n        'Vary: Origin',\n        'Date: %',\n        'Connection: keep-alive',\n        'Keep-Alive: timeout=5',\n        'Transfer-Encoding: chunked',\n      ].join('\\r\\n'),\n      'Request Headers (17)View source',\n      [\n        'accept: */*',\n        'Accept-Encoding: gzip, deflate, br',\n        'Accept-Language: en-US',\n        'Connection: keep-alive',\n        'Content-Length: 32',\n        'content-type: application/x-www-form-urlencoded;charset=UTF-8',\n        'Host: localhost:%',\n        'Origin: https://localhost:%',\n        'Referer: https://localhost:%/test/e2e/resources/network/headers-and-payload.html',\n        'sec-ch-ua',\n        'sec-ch-ua-mobile: ?0',\n        'sec-ch-ua-platform',\n        'Sec-Fetch-Dest: empty',\n        'Sec-Fetch-Mode: cors',\n        'Sec-Fetch-Site: same-origin',\n        'User-Agent: Mozilla/5.0 %',\n        'x-same-domain: 1',\n      ],\n    ].flat();\n\n    await assertOutlineMatches(expectedHeadersContent, headersOutline);\n  });\n\n  it('payload tab selection is preserved', async () => {\n    await navigateToNetworkTab('headers-and-payload.html');\n\n    await waitForSomeRequestsToAppear(3);\n\n    await selectRequestByName('image.svg?id=42&param=a%20b');\n\n    const networkView = await waitFor('.network-item-view');\n    const payloadTabHeader = await waitFor('[aria-label=Payload][role=\"tab\"]', networkView);\n    await click(payloadTabHeader);\n    await waitFor('[aria-label=Payload][role=tab][aria-selected=true]', networkView);\n\n    await selectRequestByName('image.svg');\n    await waitForElementWithTextContent('foo: gamma');\n  });\n\n  it('no duplicate payload tab on headers update', async () => {\n    await navigateToNetworkTab('requests.html');\n    const {target} = getBrowserAndPages();\n    target.evaluate(() => fetch('image.svg?delay'));\n    await waitForSomeRequestsToAppear(2);\n\n    await selectRequestByName('image.svg?delay');\n    await target.evaluate(async () => await fetch('/?send_delayed'));\n  });\n});\n"]}