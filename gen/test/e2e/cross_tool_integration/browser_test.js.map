{"version":3,"file":"browser_test.js","sourceRoot":"","sources":["../../../../../../test/e2e/cross_tool_integration/browser_test.ts"],"names":[],"mappings":";AAAA,4DAA4D;AAC5D,yEAAyE;AACzE,6BAA6B;;AAE7B,+BAA4B;AAE5B,sDAA+F;AAC/F,0EAA8D;AAC9D,sEAAwE;AACxE,wEAAqE;AAErE,cAAc;AACd,8BAAQ,CAAC,IAAI,CAAC,8BAA8B,EAAE,KAAK,IAAI,EAAE;IACvD,IAAA,wBAAE,EAAC,2DAA2D,EAAE,KAAK,IAAI,EAAE;QACzE,sBAAsB;QACtB,MAAM,EAAC,MAAM,EAAC,GAAG,IAAA,8BAAkB,GAAE,CAAC;QACtC,MAAM,IAAA,wBAAY,EAAC,yBAAyB,CAAC,CAAC;QAE9C,8BAA8B;QAC9B,MAAM,IAAA,2CAAqB,EAAC,YAAY,CAAC,CAAC;QAC1C,MAAM,IAAA,2CAAqB,EAAC,WAAW,CAAC,CAAC;QAEzC,MAAM,QAAQ,GAAG,MAAM,IAAA,8CAAyB,GAAE,CAAC;QACnD,MAAM,IAAA,iCAAqB,GAAE,CAAC;QAC9B,MAAM,MAAM,CAAC,MAAM,EAAE,CAAC;QAEtB,qDAAqD;QACrD,MAAM,WAAW,GAAG,MAAM,IAAA,8CAAyB,GAAE,CAAC;QAEtD,aAAM,CAAC,YAAY,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC;IAC7C,CAAC,CAAC,CAAC;IAEH,IAAA,wBAAE,EAAC,oEAAoE,EAAE,KAAK,IAAI,EAAE;QAClF,sBAAsB;QACtB,MAAM,SAAS,GAAG,yBAAyB,CAAC;QAC5C,MAAM,eAAe,GAAG,kCAAkC,CAAC;QAC3D,MAAM,IAAA,wBAAY,EAAC,SAAS,CAAC,CAAC;QAE9B,8BAA8B;QAC9B,MAAM,IAAA,2CAAqB,EAAC,YAAY,CAAC,CAAC;QAC1C,MAAM,IAAA,2CAAqB,EAAC,WAAW,CAAC,CAAC;QAEzC,MAAM,IAAA,iCAAqB,GAAE,CAAC;QAC9B,kCAAkC;QAClC,MAAM,IAAA,wBAAY,EAAC,eAAe,CAAC,CAAC;IACtC,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["// Copyright 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport {assert} from 'chai';\n\nimport {closeAllCloseableTabs, getBrowserAndPages, goToResource} from '../../shared/helper.js';\nimport {describe, it} from '../../shared/mocha-extensions.js';\nimport {getCurrentConsoleMessages} from '../helpers/console-helpers.js';\nimport {openPanelViaMoreTools} from '../helpers/settings-helpers.js';\n\n// Flaky tests\ndescribe.skip('[crbug.com/1149334]: Browser', async () => {\n  it('can reload a website after all closeable tools are closed', async () => {\n    // Navigate to website\n    const {target} = getBrowserAndPages();\n    await goToResource('cross_tool/default.html');\n\n    // Open a few closeable panels\n    await openPanelViaMoreTools('Animations');\n    await openPanelViaMoreTools('Rendering');\n\n    const messages = await getCurrentConsoleMessages();\n    await closeAllCloseableTabs();\n    await target.reload();\n\n    // Website logs the Date, so it shouldn't be the same\n    const newMessages = await getCurrentConsoleMessages();\n\n    assert.notDeepEqual(messages, newMessages);\n  });\n\n  it('can navigate to a new website after all closeable tools are closed', async () => {\n    // Navigate to website\n    const targetUrl = 'cross_tool/default.html';\n    const secondTargetUrl = 'cross_tool/site_with_errors.html';\n    await goToResource(targetUrl);\n\n    // Open a few closeable panels\n    await openPanelViaMoreTools('Animations');\n    await openPanelViaMoreTools('Rendering');\n\n    await closeAllCloseableTabs();\n    // Navigate to a different website\n    await goToResource(secondTargetUrl);\n  });\n});\n"]}