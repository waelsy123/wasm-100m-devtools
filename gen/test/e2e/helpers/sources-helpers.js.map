{"version":3,"file":"sources-helpers.js","sourceRoot":"","sources":["../../../../../../test/e2e/helpers/sources-helpers.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport {assert} from 'chai';\nimport type * as puppeteer from 'puppeteer';\n\nimport {$$, click, getBrowserAndPages, getPendingEvents, getTestServerPort, goToResource, pasteText, platform, pressKey, step, timeout, typeText, waitFor, waitForFunction} from '../../shared/helper.js';\n\nexport const ACTIVE_LINE = '.CodeMirror-activeline > pre > span';\nexport const PAUSE_ON_EXCEPTION_BUTTON = '[aria-label=\"Pause on exceptions\"]';\nexport const PAUSE_BUTTON = '[aria-label=\"Pause script execution\"]';\nexport const RESUME_BUTTON = '[aria-label=\"Resume script execution\"]';\nexport const SOURCES_LINES_SELECTOR = '.CodeMirror-code > div';\nexport const PAUSE_INDICATOR_SELECTOR = '.paused-status';\nexport const CODE_LINE_SELECTOR = '.cm-lineNumbers .cm-gutterElement';\nexport const SCOPE_LOCAL_VALUES_SELECTOR = 'li[aria-label=\"Local\"] + ol';\nexport const SELECTED_THREAD_SELECTOR = 'div.thread-item.selected > div.thread-item-title';\nexport const STEP_INTO_BUTTON = '[aria-label=\"Step into next function call\"]';\nexport const STEP_OVER_BUTTON = '[aria-label=\"Step over next function call\"]';\nexport const STEP_OUT_BUTTON = '[aria-label=\"Step out of current function\"]';\nexport const TURNED_OFF_PAUSE_BUTTON_SELECTOR = 'button.toolbar-state-off';\nexport const TURNED_ON_PAUSE_BUTTON_SELECTOR = 'button.toolbar-state-on';\nexport const DEBUGGER_PAUSED_EVENT = 'DevTools.DebuggerPaused';\nconst WATCH_EXPRESSION_VALUE_SELECTOR = '.watch-expression-tree-item .object-value-string.value';\n\nexport async function navigateToLine(frontend: puppeteer.Page, lineNumber: number|string) {\n  // Navigating to a line will trigger revealing the current\n  // uiSourceCodeFrame. Make sure to consume the 'source-file-loaded'\n  // event for this file.\n  await listenForSourceFilesLoaded(frontend);\n\n  await frontend.keyboard.down('Control');\n  await frontend.keyboard.press('KeyG');\n  await frontend.keyboard.up('Control');\n  await frontend.keyboard.type(`${lineNumber}`);\n  await frontend.keyboard.press('Enter');\n\n  const source = await getSelectedSource();\n  await waitForSourceLoadedEvent(frontend, source);\n}\n\nexport async function getLineNumberElement(lineNumber: number|string) {\n  const visibleLines = await $$(CODE_LINE_SELECTOR);\n  for (let i = 0; i < visibleLines.length; i++) {\n    const lineValue = await visibleLines[i].evaluate(node => node.textContent);\n    if (lineValue === `${lineNumber}`) {\n      return visibleLines[i];\n    }\n  }\n  return null;\n}\n\nexport async function doubleClickSourceTreeItem(selector: string) {\n  const item = await waitFor(selector);\n  await click(item, {clickOptions: {clickCount: 2}, maxPixelsFromLeft: 40});\n}\n\nexport async function openSourcesPanel() {\n  // Locate the button for switching to the sources tab.\n  await click('#tab-sources');\n\n  // Wait for the navigation panel to show up\n  await waitFor('.navigator-file-tree-item');\n}\n\nexport async function openFileInSourcesPanel(testInput: string) {\n  await goToResource(`sources/${testInput}`);\n\n  await openSourcesPanel();\n}\n\nexport async function openRecorderSubPane() {\n  const root = await waitFor('.navigator-tabbed-pane');\n\n  await waitFor('[aria-label=\"More tabs\"]', root);\n  await click('[aria-label=\"More tabs\"]', {root});\n\n  await waitFor('[aria-label=\"Recordings\"]');\n\n  await click('[aria-label=\"Recordings\"]');\n  await waitFor('[aria-label=\"Add recording\"]');\n}\n\nexport async function createNewRecording(recordingName: string) {\n  const {frontend} = getBrowserAndPages();\n\n  await click('[aria-label=\"Add recording\"]');\n  await waitFor('[aria-label^=\"Recording\"]');\n\n  await typeText(recordingName);\n\n  await frontend.keyboard.press('Enter');\n}\n\nexport async function openSnippetsSubPane() {\n  const root = await waitFor('.navigator-tabbed-pane');\n\n  await waitFor('[aria-label=\"More tabs\"]', root);\n  await click('[aria-label=\"More tabs\"]', {root});\n\n  await waitFor('[aria-label=\"Snippets\"]');\n\n  await click('[aria-label=\"Snippets\"]');\n  await waitFor('[aria-label=\"New snippet\"]');\n}\n\n/**\n * Creates a new snippet, optionally pre-filling it with the provided content.\n * `snippetName` must not contain spaces or special characters, otherwise\n * `createNewSnippet` will time out.\n * DevTools uses the escaped snippet name for the ARIA label. `createNewSnippet`\n * doesn't mirror the escaping so it won't be able to wait for the snippet\n * entry in the navigation tree to appear.\n */\nexport async function createNewSnippet(snippetName: string, content?: string) {\n  const {frontend} = getBrowserAndPages();\n\n  await click('[aria-label=\"New snippet\"]');\n  await waitFor('[aria-label^=\"Script snippet\"]');\n\n  await typeText(snippetName);\n\n  await frontend.keyboard.press('Enter');\n  await waitFor(`[aria-label*=\"${snippetName}\"]`);\n\n  if (content) {\n    await pasteText(content);\n    await pressKey('s', {control: true});\n  }\n}\n\nexport async function openFileInEditor(sourceFile: string) {\n  const {frontend} = getBrowserAndPages();\n\n  await listenForSourceFilesLoaded(frontend);\n\n  // Open a particular file in the editor\n  await doubleClickSourceTreeItem(`[aria-label=\"${sourceFile}, file\"]`);\n\n  await waitForSourceLoadedEvent(frontend, sourceFile);\n}\n\nexport async function openSourceCodeEditorForFile(sourceFile: string, testInput: string) {\n  await openFileInSourcesPanel(testInput);\n  await openFileInEditor(sourceFile);\n}\n\nexport async function getSelectedSource(): Promise<string> {\n  const sourceTabPane = await waitFor('#sources-panel-sources-view .tabbed-pane');\n  const sourceTabs = await waitFor('.tabbed-pane-header-tab.selected', sourceTabPane);\n  return sourceTabs.evaluate(node => node.getAttribute('aria-label')) as Promise<string>;\n}\n\nexport async function getOpenSources() {\n  const sourceTabPane = await waitFor('#sources-panel-sources-view .tabbed-pane');\n  const sourceTabs = await waitFor('.tabbed-pane-header-tabs', sourceTabPane);\n  const openSources =\n      await sourceTabs.$$eval('.tabbed-pane-header-tab', nodes => nodes.map(n => n.getAttribute('aria-label')));\n  return openSources;\n}\n\nexport async function waitForHighlightedLineWhichIncludesText(expectedTextContent: string) {\n  await waitForFunction(async () => {\n    const selectedLine = await waitFor(ACTIVE_LINE);\n    const text = await selectedLine.evaluate(node => node.textContent);\n    return (text && text.includes(expectedTextContent)) ? text : undefined;\n  });\n}\n\nexport async function waitForHighlightedLine(lineNumber: number) {\n  await waitForFunction(async () => {\n    const selectedLine = await waitFor('.cm-highlightedLine');\n    const currentlySelectedLineNumber = await selectedLine.evaluate(line => {\n      return [...line.parentElement?.childNodes || []].indexOf(line);\n    });\n    const lineNumbers = await waitFor('.cm-lineNumbers');\n    const text = await lineNumbers.evaluate(\n        (node, lineNumber) => node.childNodes[lineNumber].textContent, currentlySelectedLineNumber + 1);\n    return Number(text) === lineNumber;\n  });\n}\n\nexport async function getToolbarText() {\n  const toolbar = await waitFor('.sources-toolbar');\n  if (!toolbar) {\n    return [];\n  }\n  const textNodes = await $$('.toolbar-text', toolbar);\n  return Promise.all(textNodes.map(node => node.evaluate(node => node.textContent, node)));\n}\n\nexport async function addBreakpointForLine(frontend: puppeteer.Page, index: number|string) {\n  await navigateToLine(frontend, index);\n  const breakpointLine = await getLineNumberElement(index);\n  assert.isNotNull(breakpointLine, 'Line is not visible or does not exist');\n\n  await waitForFunction(async () => !(await isBreakpointSet(index)));\n  await breakpointLine?.click();\n\n  await waitForFunction(async () => await isBreakpointSet(index));\n}\n\nexport async function removeBreakpointForLine(frontend: puppeteer.Page, index: number|string) {\n  await navigateToLine(frontend, index);\n  const breakpointLine = await getLineNumberElement(index);\n  assert.isNotNull(breakpointLine, 'Line is not visible or does not exist');\n\n  await waitForFunction(async () => await isBreakpointSet(index));\n  await breakpointLine?.click();\n  await waitForFunction(async () => !(await isBreakpointSet(index)));\n}\n\nexport function sourceLineNumberSelector(lineNumber: number) {\n  return `div.CodeMirror-code > div:nth-child(${lineNumber}) div.CodeMirror-linenumber.CodeMirror-gutter-elt`;\n}\n\nexport async function isBreakpointSet(lineNumber: number|string) {\n  const lineNumberElement = await getLineNumberElement(lineNumber);\n  const breakpointLineParentClasses = await lineNumberElement?.evaluate(n => n.className);\n  return breakpointLineParentClasses?.includes('cm-breakpoint');\n}\n\nexport async function checkBreakpointDidNotActivate() {\n  await step('check that the script did not pause', async () => {\n    // TODO(almuthanna): make sure this check happens at a point where the pause indicator appears if it was active\n    const pauseIndicators = await $$(PAUSE_INDICATOR_SELECTOR);\n    const breakpointIndicator = await Promise.all(pauseIndicators.map(elements => {\n      return elements.evaluate(el => el.className);\n    }));\n    assert.deepEqual(breakpointIndicator.length, 0, 'script had been paused');\n  });\n}\n\nexport async function getBreakpointDecorators(disabledOnly = false) {\n  const selector = `.cm-breakpoint${disabledOnly ? '-disabled' : ''}`;\n  const breakpointDecorators = await $$(selector);\n  return await Promise.all(\n      breakpointDecorators.map(breakpointDecorator => breakpointDecorator.evaluate(n => Number(n.textContent))));\n}\n\nexport async function getNonBreakableLines() {\n  const selector = '.cm-nonBreakableLine';\n  await waitFor(selector);\n  const unbreakableLines = await $$(selector);\n  return await Promise.all(\n      unbreakableLines.map(unbreakableLine => unbreakableLine.evaluate(n => Number(n.textContent))));\n}\n\nexport async function executionLineHighlighted() {\n  return await waitFor('.cm-executionLine');\n}\n\nexport async function getExecutionLine() {\n  const activeLine = await waitFor('.cm-execution-line-outline');\n  return await activeLine.evaluate(n => parseInt(n.textContent as string, 10));\n}\n\nexport async function getExecutionLineText() {\n  const activeLine = await waitFor('.cm-execution-line pre');\n  return await activeLine.evaluate(n => n.textContent as string);\n}\n\nexport async function getCallFrameNames() {\n  await waitFor('.call-frame-item-title');\n  const items = await $$('.call-frame-item-title');\n  const promises = items.map(handle => handle.evaluate(el => el.textContent as string));\n  const results = [];\n  for (const promise of promises) {\n    results.push(await promise);\n  }\n  return results;\n}\n\nexport async function getCallFrameLocations() {\n  await waitFor('.call-frame-location');\n  const items = await $$('.call-frame-location');\n  const promises = items.map(handle => handle.evaluate(el => el.textContent as string));\n  const results = [];\n  for (const promise of promises) {\n    results.push(await promise);\n  }\n  return results;\n}\n\nexport async function switchToCallFrame(index: number) {\n  const selector = `.call-frame-item[aria-posinset=\"${index}\"]`;\n  await click(selector);\n  await waitFor(selector + '[aria-selected=\"true\"]');\n}\n\nexport async function retrieveTopCallFrameScriptLocation(script: string, target: puppeteer.Page) {\n  // The script will run into a breakpoint, which means that it will not actually\n  // finish the evaluation, until we continue executing.\n  // Thus, we have to await it at a later point, while stepping through the code.\n  const scriptEvaluation = target.evaluate(script);\n\n  // Wait for the evaluation to be paused and shown in the UI\n  // and retrieve the top level call frame script location name\n  const scriptLocation = await retrieveTopCallFrameWithoutResuming();\n\n  // Resume the evaluation\n  await click(RESUME_BUTTON);\n\n  // Make sure to await the context evaluate before asserting\n  // Otherwise the Puppeteer process might crash on a failure assertion,\n  // as its execution context is destroyed\n  await scriptEvaluation;\n\n  return scriptLocation;\n}\n\nexport async function retrieveTopCallFrameWithoutResuming() {\n  // Wait for the evaluation to be paused and shown in the UI\n  await waitFor(PAUSE_INDICATOR_SELECTOR);\n\n  // Retrieve the top level call frame script location name\n  const locationHandle = await waitFor('.call-frame-location');\n  const scriptLocation = await locationHandle.evaluate(location => location.textContent);\n\n  return scriptLocation;\n}\n\ndeclare global {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  interface Window {\n    /* eslint-disable @typescript-eslint/naming-convention */\n    __sourceFilesAddedEvents: string[];\n    __sourceFilesLoadedEvents: string[];\n    __sourceFilesLoadedEventListenerAdded: boolean;\n    /* eslint-enable @typescript-eslint/naming-convention */\n  }\n}\n\nexport async function reloadPageAndWaitForSourceFile(\n    frontend: puppeteer.Page, target: puppeteer.Page, sourceFile: string) {\n  await listenForSourceFilesLoaded(frontend);\n  await target.reload();\n  await waitForSourceLoadedEvent(frontend, sourceFile);\n}\n\nexport function listenForSourceFilesLoaded(frontend: puppeteer.Page) {\n  return frontend.evaluate(() => {\n    if (!window.__sourceFilesLoadedEvents) {\n      window.__sourceFilesLoadedEvents = [];\n    }\n    if (!window.__sourceFilesLoadedEventListenerAdded) {\n      window.addEventListener('source-file-loaded', (event: Event) => {\n        const customEvent = event as CustomEvent<string>;\n        window.__sourceFilesLoadedEvents.push(customEvent.detail);\n      });\n      window.__sourceFilesLoadedEventListenerAdded = true;\n    }\n  });\n}\n\nexport async function waitForSourceLoadedEvent(frontend: puppeteer.Page, fileName: string) {\n  const nameRegex = fileName.replace('…', '.*');\n\n  await waitForFunction(async () => {\n    return frontend.evaluate(nameRegex => {\n      return window.__sourceFilesLoadedEvents.some(x => new RegExp(nameRegex).test(x));\n    }, nameRegex);\n  });\n\n  await frontend.evaluate(nameRegex => {\n    window.__sourceFilesLoadedEvents =\n        window.__sourceFilesLoadedEvents.filter(event => !new RegExp(nameRegex).test(event));\n  }, nameRegex);\n}\n\nexport function listenForSourceFilesAdded(frontend: puppeteer.Page) {\n  return frontend.evaluate(() => {\n    window.__sourceFilesAddedEvents = [];\n    window.addEventListener('source-tree-file-added', (event: Event) => {\n      const customEvent = event as CustomEvent<string>;\n      if (customEvent.detail !== '/__puppeteer_evaluation_script__') {\n        window.__sourceFilesAddedEvents.push(customEvent.detail);\n      }\n    });\n  });\n}\n\nexport function waitForAdditionalSourceFiles(frontend: puppeteer.Page, count = 1) {\n  return waitForFunction(async () => {\n    return frontend.evaluate(count => {\n      return window.__sourceFilesAddedEvents.length >= count;\n    }, count);\n  });\n}\n\nexport function clearSourceFilesAdded(frontend: puppeteer.Page) {\n  return frontend.evaluate(() => {\n    window.__sourceFilesAddedEvents = [];\n  });\n}\n\nexport function retrieveSourceFilesAdded(frontend: puppeteer.Page) {\n  // Strip hostname, to make it agnostic of which server port we use\n  return frontend.evaluate(() => window.__sourceFilesAddedEvents.map(file => new URL(`https://${file}`).pathname));\n}\n\n// Helpers for navigating the file tree.\nexport type NestedFileSelector = {\n  rootSelector: string,\n  domainSelector: string,\n  folderSelector: string,\n  fileSelector: string,\n};\n\nexport function createSelectorsForWorkerFile(\n    workerName: string, folderName: string, fileName: string, workerIndex = 1): NestedFileSelector {\n  const rootSelector = new Array(workerIndex).fill(`[aria-label=\"${workerName}, worker\"]`).join(' ~ ');\n  const domainSelector = `${rootSelector} + ol > [aria-label=\"localhost:${getTestServerPort()}, domain\"]`;\n  const folderSelector = `${domainSelector} + ol > [aria-label^=\"${folderName}, \"]`;\n  const fileSelector = `${folderSelector} + ol > [aria-label=\"${fileName}, file\"]`;\n\n  return {\n    rootSelector,\n    domainSelector,\n    folderSelector,\n    fileSelector,\n  };\n}\n\nasync function expandSourceTreeItem(selector: string) {\n  // FIXME(crbug/1112692): Refactor test to remove the timeout.\n  await timeout(50);\n  const sourceTreeItem = await waitFor(selector);\n  const isExpanded = await sourceTreeItem.evaluate(element => {\n    return element.getAttribute('aria-expanded') === 'true';\n  });\n  if (!isExpanded) {\n    // FIXME(crbug/1112692): Refactor test to remove the timeout.\n    await timeout(50);\n    await doubleClickSourceTreeItem(selector);\n  }\n}\n\nexport async function expandFileTree(selectors: NestedFileSelector) {\n  await expandSourceTreeItem(selectors.rootSelector);\n  await expandSourceTreeItem(selectors.domainSelector);\n  await expandSourceTreeItem(selectors.folderSelector);\n  // FIXME(crbug/1112692): Refactor test to remove the timeout.\n  await timeout(50);\n  return await waitFor(selectors.fileSelector);\n}\n\nexport async function stepThroughTheCode() {\n  const {frontend} = getBrowserAndPages();\n  await frontend.keyboard.press('F9');\n  await waitForFunction(() => getPendingEvents(frontend, DEBUGGER_PAUSED_EVENT));\n  await waitFor(PAUSE_INDICATOR_SELECTOR);\n}\n\nexport async function openNestedWorkerFile(selectors: NestedFileSelector) {\n  await expandFileTree(selectors);\n  // FIXME(crbug/1112692): Refactor test to remove the timeout.\n  await timeout(50);\n  await click(selectors.fileSelector);\n}\n\nexport async function clickOnContextMenu(selector: string, label: string) {\n  // Find the selected node, right click.\n  const selectedNode = await waitFor(selector);\n  await click(selectedNode, {clickOptions: {button: 'right'}});\n\n  // Wait for the context menu option, and click it.\n  const labelSelector = `[aria-label=\"${label}\"]`;\n  await waitFor(labelSelector);\n  await click(labelSelector);\n}\n\nexport async function inspectMemory(variableName: string) {\n  await clickOnContextMenu(\n      `[data-object-property-name-for-test=\"${variableName}\"]`, 'Reveal in Memory Inspector panel');\n}\n\nexport async function typeIntoSourcesAndSave(text: string) {\n  const pane = await waitFor('.sources');\n  await pane.type(text);\n\n  await pressKey('s', {control: true});\n}\n\nexport async function getScopeNames() {\n  const scopeElements = await $$('.scope-chain-sidebar-pane-section-title');\n  const scopeNames = await Promise.all(scopeElements.map(nodes => nodes.evaluate(n => n.textContent)));\n  return scopeNames;\n}\n\nexport async function getValuesForScope(scope: string, expandCount: number, waitForNoOfValues: number) {\n  const scopeSelector = `[aria-label=\"${scope}\"]`;\n  await waitFor(scopeSelector);\n  for (let i = 0; i < expandCount; i++) {\n    const unexpandedSelector = `${scopeSelector} + ol li[aria-expanded=false]`;\n    await waitFor(unexpandedSelector);\n    await click(unexpandedSelector);\n  }\n  const valueSelector = `${scopeSelector} + ol .name-and-value`;\n  const valueSelectorElements = await waitForFunction(async () => {\n    const elements = await $$(valueSelector);\n    if (elements.length >= waitForNoOfValues) {\n      return elements;\n    }\n    return undefined;\n  });\n  const values = await Promise.all(valueSelectorElements.map(elem => elem.evaluate(n => n.textContent as string)));\n  return values;\n}\n\nexport async function getPausedMessages() {\n  const {frontend} = getBrowserAndPages();\n  const messageElement = await frontend.waitForSelector('.paused-message');\n  if (!messageElement) {\n    assert.fail('getPausedMessages: did not find .paused-message element.');\n  }\n  const statusMain = await waitFor('.status-main', messageElement);\n  const statusSub = await waitFor('.status-sub', messageElement);\n  return {\n    statusMain: await statusMain.evaluate(x => x.textContent),\n    statusSub: await statusSub.evaluate(x => x.textContent),\n  };\n}\n\nexport async function getWatchExpressionsValues() {\n  const {frontend} = getBrowserAndPages();\n  await click('[aria-label=\"Watch\"]');\n  await frontend.keyboard.press('ArrowRight');\n  await waitFor(WATCH_EXPRESSION_VALUE_SELECTOR);\n  const values = await $$(WATCH_EXPRESSION_VALUE_SELECTOR) as puppeteer.ElementHandle<HTMLElement>[];\n  return await Promise.all(values.map(value => value.evaluate(element => element.innerText)));\n}\n\nexport async function runSnippet() {\n  const {frontend} = getBrowserAndPages();\n  const modifierKey = platform === 'mac' ? 'Meta' : 'Control';\n  await frontend.keyboard.down(modifierKey);\n  await frontend.keyboard.press('Enter');\n  await frontend.keyboard.up(modifierKey);\n}\n\nexport async function evaluateSelectedTextInConsole() {\n  const {frontend} = getBrowserAndPages();\n  const modifierKey = platform === 'mac' ? 'Meta' : 'Control';\n  await frontend.keyboard.down(modifierKey);\n  await frontend.keyboard.down('Shift');\n  await frontend.keyboard.press('E');\n  await frontend.keyboard.up(modifierKey);\n  await frontend.keyboard.up('Shift');\n}\n\nexport async function addSelectedTextToWatches() {\n  const {frontend} = getBrowserAndPages();\n  const modifierKey = platform === 'mac' ? 'Meta' : 'Control';\n  await frontend.keyboard.down(modifierKey);\n  await frontend.keyboard.down('Shift');\n  await frontend.keyboard.press('A');\n  await frontend.keyboard.up(modifierKey);\n  await frontend.keyboard.up('Shift');\n}\n"]}