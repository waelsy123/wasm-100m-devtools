{"version":3,"file":"worker-relative-sourcemap_test.js","sourceRoot":"","sources":["../../../../../../test/e2e/sources/worker-relative-sourcemap_test.ts"],"names":[],"mappings":";AAAA,4DAA4D;AAC5D,yEAAyE;AACzE,6BAA6B;;AAE7B,+BAA4B;AAE5B,sDAAoE;AACpE,0EAA8D;AAE9D,sEAA2F;AAE3F,IAAI,gBAAoC,CAAC;AAEzC,SAAS,4BAA4B,CAAC,QAAgB;IACpD,MAAM,gBAAgB,GAAG,IAAI,CAAC;IAC9B,OAAO,IAAA,iDAA4B,EAAC,gBAAgB,EAAE,4BAA4B,EAAE,QAAQ,CAAC,CAAC;AAChG,CAAC;AAED,KAAK,UAAU,oBAAoB,CAAC,SAA6B;IAC/D,MAAM,UAAU,GAAG,MAAM,IAAA,mCAAc,EAAC,SAAS,CAAC,CAAC;IAEnD,OAAO,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;AACvD,CAAC;AAED,IAAA,8BAAQ,EAAC,iBAAiB,EAAE,KAAK;IAC/B,kFAAkF;IAClF,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;IAEpB,MAAM,CAAC,GAAG,EAAE;QACV,gBAAgB,GAAG,4BAA4B,CAAC,8BAA8B,CAAC,CAAC;IAClF,CAAC,CAAC,CAAC;IAEH,IAAA,wBAAE,EAAC,0CAA0C,EAAE,KAAK,IAAI,EAAE;QACxD,iCAAiC;QACjC,MAAM,IAAA,wBAAY,EAAC,wCAAwC,CAAC,CAAC;QAE7D,sDAAsD;QACtD,MAAM,IAAA,iBAAK,EAAC,cAAc,CAAC,CAAC;QAE5B,2CAA2C;QAC3C,MAAM,IAAA,mBAAO,EAAC,2BAA2B,CAAC,CAAC;QAE3C,mEAAmE;QACnE,MAAM,eAAe,GAAG,MAAM,oBAAoB,CAAC,gBAAgB,CAAC,CAAC;QACrE,aAAM,CAAC,WAAW,CAAC,eAAe,EAAE,8BAA8B,CAAC,CAAC;IACtE,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["// Copyright 2021 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport {assert} from 'chai';\n\nimport {click, goToResource, waitFor} from '../../shared/helper.js';\nimport {describe, it} from '../../shared/mocha-extensions.js';\nimport type {NestedFileSelector} from '../helpers/sources-helpers.js';\nimport {createSelectorsForWorkerFile, expandFileTree} from '../helpers/sources-helpers.js';\n\nlet WORKER_SELECTORS: NestedFileSelector;\n\nfunction createSelectorsForEvalWorker(fileName: string) {\n  const EVAL_WORKER_NAME = '#1';\n  return createSelectorsForWorkerFile(EVAL_WORKER_NAME, 'test/e2e/resources/sources', fileName);\n}\n\nasync function openNestedWorkerFile(selectors: NestedFileSelector) {\n  const workerFile = await expandFileTree(selectors);\n\n  return workerFile.evaluate(node => node.textContent);\n}\n\ndescribe('The Sources Tab', async function() {\n  // The tests in this suite are particularly slow, as they perform a lot of actions\n  this.timeout(10000);\n\n  before(() => {\n    WORKER_SELECTORS = createSelectorsForEvalWorker('worker-relative-sourcemap.ts');\n  });\n\n  it('shows sources from worker\\'s source maps', async () => {\n    // Have the target load the page.\n    await goToResource('sources/worker-relative-sourcemap.html');\n\n    // Locate the button for switching to the sources tab.\n    await click('#tab-sources');\n\n    // Wait for the navigation panel to show up\n    await waitFor('.navigator-file-tree-item');\n\n    // Check that we can expand the file tree up to the file name node.\n    const worker1FileName = await openNestedWorkerFile(WORKER_SELECTORS);\n    assert.strictEqual(worker1FileName, 'worker-relative-sourcemap.ts');\n  });\n});\n"]}