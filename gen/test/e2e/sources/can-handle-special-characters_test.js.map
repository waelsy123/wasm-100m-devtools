{"version":3,"file":"can-handle-special-characters_test.js","sourceRoot":"","sources":["../../../../../../test/e2e/sources/can-handle-special-characters_test.ts"],"names":[],"mappings":";AAAA,4DAA4D;AAC5D,yEAAyE;AACzE,6BAA6B;;AAE7B,+BAA4B;AAC5B,iCAAmC;AACnC,+BAA6B;AAE7B,sDAAgF;AAChF,sEAAiN;AAEjN,IAAA,gBAAQ,EAAC,aAAa,EAAE,KAAK,IAAI,EAAE;IACjC,KAAK,UAAU,OAAO,CAAC,QAAgB,EAAE,YAAoB;QAC3D,MAAM,EAAC,QAAQ,EAAE,MAAM,EAAC,GAAG,IAAA,8BAAkB,GAAE,CAAC;QAEhD,MAAM,IAAA,qCAAgB,EAAC,QAAQ,CAAC,CAAC;QACjC,MAAM,IAAA,yCAAoB,EAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;QAExC,MAAM,gBAAgB,GAAG,MAAM,CAAC,QAAQ,CAAC,YAAY,GAAG,KAAK,CAAC,CAAC;QAC/D,MAAM,IAAA,mBAAO,EAAC,kCAAa,CAAC,CAAC;QAE7B,8BAA8B;QAC9B,aAAM,CAAC,SAAS,CAAC,MAAM,IAAA,4CAAuB,GAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QAEvD,MAAM,IAAA,6CAAwB,GAAE,CAAC;QAEjC,gCAAgC;QAChC,aAAM,CAAC,SAAS,CAAC,MAAM,IAAA,mCAAc,GAAE,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC;QAErD,MAAM,IAAA,iBAAK,EAAC,kCAAa,CAAC,CAAC;QAC3B,MAAM,gBAAgB,CAAC;IACzB,CAAC;IAED,KAAK,UAAU,gBAAgB;QAC7B,MAAM,OAAO,GACT,SAAS,GAAG,IAAA,cAAO,EAAC,SAAS,EAAE,IAAI,EAAE,WAAW,EAAE,SAAS,EAAE,YAAY,EAAE,yBAAyB,CAAC,CAAC;QAC1G,MAAM,IAAA,gBAAI,EAAC,OAAO,CAAC,CAAC;QACpB,MAAM,IAAA,qCAAgB,GAAE,CAAC;IAC3B,CAAC;IAED,IAAA,UAAE,EAAC,yDAAyD,EAAE,KAAK,IAAI,EAAE;QACvE,MAAM,IAAA,2CAAsB,EAAC,oCAAoC,CAAC,CAAC;QACnE,MAAM,OAAO,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;IACvC,CAAC,CAAC,CAAC;IAEH,IAAA,UAAE,EAAC,mEAAmE,EAAE,KAAK,IAAI,EAAE;QACjF,MAAM,IAAA,2CAAsB,EAAC,oCAAoC,CAAC,CAAC;QACnE,MAAM,OAAO,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;IACzC,CAAC,CAAC,CAAC;IAEH,IAAA,UAAE,EAAC,wDAAwD,EAAE,KAAK,IAAI,EAAE;QACtE,MAAM,gBAAgB,EAAE,CAAC;QACzB,MAAM,OAAO,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;IACvC,CAAC,CAAC,CAAC;IAEH,IAAA,UAAE,EAAC,kEAAkE,EAAE,KAAK,IAAI,EAAE;QAChF,MAAM,gBAAgB,EAAE,CAAC;QACzB,MAAM,OAAO,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;IACzC,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["// Copyright 2022 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport {assert} from 'chai';\nimport {describe, it} from 'mocha';\nimport {resolve} from 'path';\n\nimport {click, getBrowserAndPages, goTo, waitFor} from '../../shared/helper.js';\nimport {addBreakpointForLine, executionLineHighlighted, getBreakpointDecorators, getOpenSources, openFileInEditor, openFileInSourcesPanel, openSourcesPanel, RESUME_BUTTON} from '../helpers/sources-helpers.js';\n\ndescribe('Sources Tab', async () => {\n  async function runTest(filename: string, functionName: string) {\n    const {frontend, target} = getBrowserAndPages();\n\n    await openFileInEditor(filename);\n    await addBreakpointForLine(frontend, 2);\n\n    const scriptEvaluation = target.evaluate(functionName + '();');\n    await waitFor(RESUME_BUTTON);\n\n    // Breakpoint is still visible\n    assert.deepEqual(await getBreakpointDecorators(), [2]);\n\n    await executionLineHighlighted();\n\n    // Title of tab matches filename\n    assert.deepEqual(await getOpenSources(), [filename]);\n\n    await click(RESUME_BUTTON);\n    await scriptEvaluation;\n  }\n\n  async function loadFromFilePath() {\n    const fileUrl =\n        'file://' + resolve(__dirname, '..', 'resources', 'sources', 'filesystem', 'special-characters.html');\n    await goTo(fileUrl);\n    await openSourcesPanel();\n  }\n\n  it('can handle filename with space loading over the network', async () => {\n    await openFileInSourcesPanel('filesystem/special-characters.html');\n    await runTest('with space.js', 'f1');\n  });\n\n  it('can handle filename with escape sequence loading over the network', async () => {\n    await openFileInSourcesPanel('filesystem/special-characters.html');\n    await runTest('with%20space.js', 'f2');\n  });\n\n  it('can handle filename with space loading from local file', async () => {\n    await loadFromFilePath();\n    await runTest('with space.js', 'f1');\n  });\n\n  it('can handle filename with escape sequence loading from local file', async () => {\n    await loadFromFilePath();\n    await runTest('with%20space.js', 'f2');\n  });\n});\n"]}