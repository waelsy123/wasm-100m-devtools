{"version":3,"file":"sourcemap_test.js","sourceRoot":"","sources":["../../../../../../test/e2e/sources/sourcemap_test.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2021 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport {assert} from 'chai';\nimport {click, getBrowserAndPages, goToResource, pasteText, step, typeText, waitFor, waitForElementWithTextContent, waitForFunction, waitForFunctionWithTries} from '../../shared/helper.js';\nimport {describe, it} from '../../shared/mocha-extensions.js';\nimport {CONSOLE_TAB_SELECTOR, focusConsolePrompt, getCurrentConsoleMessages} from '../helpers/console-helpers.js';\nimport {clickNthChildOfSelectedElementNode, focusElementsTree, waitForContentOfSelectedElementsNode, waitForCSSPropertyValue, waitForElementsStyleSection} from '../helpers/elements-helpers.js';\nimport {addBreakpointForLine, clickOnContextMenu, getBreakpointDecorators, getValuesForScope, openSourceCodeEditorForFile, openSourcesPanel, removeBreakpointForLine, RESUME_BUTTON, retrieveTopCallFrameScriptLocation, retrieveTopCallFrameWithoutResuming, STEP_INTO_BUTTON, STEP_OUT_BUTTON, STEP_OVER_BUTTON} from '../helpers/sources-helpers.js';\n\ndescribe('The Sources Tab', async () => {\n  it('sets multiple breakpoints in case of code-splitting', async () => {\n    const {target, frontend} = getBrowserAndPages();\n    await openSourceCodeEditorForFile('sourcemap-codesplit.ts', 'sourcemap-codesplit.html');\n    await addBreakpointForLine(frontend, 3);\n\n    for (let i = 0; i < 2; ++i) {\n      const scriptLocation = await retrieveTopCallFrameScriptLocation(`functions[${i}]();`, target);\n      assert.deepEqual(scriptLocation, 'sourcemap-codesplit.ts:3');\n    }\n  });\n\n  async function waitForStackTopMatch(matcher: RegExp) {\n    // The call stack is updated asynchronously, so let us wait until we see the correct one\n    // (or report the last one we have seen before timeout).\n    let stepLocation = '<no call stack>';\n    await waitForFunctionWithTries(async () => {\n      stepLocation = await retrieveTopCallFrameWithoutResuming() ?? '<invalid>';\n      return stepLocation?.match(matcher);\n    }, {tries: 10});\n    return stepLocation;\n  }\n\n  it('steps over a source line mapping to a range with several statements', async () => {\n    const {target, frontend} = getBrowserAndPages();\n\n    await openSourceCodeEditorForFile('sourcemap-stepping-source.js', 'sourcemap-stepping.html');\n    let scriptEvaluation: Promise<unknown>;\n\n    // DevTools is contracting long filenames with ellipses.\n    // Let us match the location with regexp to match even contracted locations.\n    const breakLocationRegExp = /.*source\\.js:12$/;\n    const stepLocationRegExp = /.*source\\.js:13$/;\n\n    await step('Run to breakpoint', async () => {\n      await addBreakpointForLine(frontend, 12);\n\n      scriptEvaluation = target.evaluate('singleline();');\n\n      const scriptLocation = await waitForStackTopMatch(breakLocationRegExp);\n      assert.match(scriptLocation, breakLocationRegExp);\n    });\n\n    await step('Step over the mapped line', async () => {\n      await click(STEP_OVER_BUTTON);\n\n      const stepLocation = await waitForStackTopMatch(stepLocationRegExp);\n      assert.match(stepLocation, stepLocationRegExp);\n    });\n\n    await step('Resume', async () => {\n      await click(RESUME_BUTTON);\n      await scriptEvaluation;\n    });\n  });\n\n  it('steps over a source line with mappings to several adjacent target lines', async () => {\n    const {target, frontend} = getBrowserAndPages();\n    await openSourceCodeEditorForFile('sourcemap-stepping-source.js', 'sourcemap-stepping.html');\n\n    let scriptEvaluation: Promise<unknown>;\n\n    // DevTools is contracting long filenames with ellipses.\n    // Let us match the location with regexp to match even contracted locations.\n    const breakLocationRegExp = /.*source\\.js:4$/;\n    const stepLocationRegExp = /.*source\\.js:5$/;\n\n    await step('Run to breakpoint', async () => {\n      await addBreakpointForLine(frontend, 4);\n\n      scriptEvaluation = target.evaluate('multiline();');\n\n      const scriptLocation = await waitForStackTopMatch(breakLocationRegExp);\n      assert.match(scriptLocation, breakLocationRegExp);\n    });\n\n    await step('Step over the mapped line', async () => {\n      await click(STEP_OVER_BUTTON);\n\n      const stepLocation = await waitForStackTopMatch(stepLocationRegExp);\n      assert.match(stepLocation, stepLocationRegExp);\n    });\n\n    await step('Resume', async () => {\n      await click(RESUME_BUTTON);\n      await scriptEvaluation;\n    });\n  });\n\n  it('steps out from a function, with source maps available (crbug/1283188)', async () => {\n    const {target, frontend} = getBrowserAndPages();\n    await openSourceCodeEditorForFile('sourcemap-stepping-source.js', 'sourcemap-stepping.html');\n\n    let scriptEvaluation: Promise<unknown>;\n\n    // DevTools is contracting long filenames with ellipses.\n    // Let us match the location with regexp to match even contracted locations.\n    const breakLocationRegExp = /.*source\\.js:4$/;\n    const stepLocationRegExp = /sourcemap-stepping.html:6$/;\n\n    await step('Run to breakpoint', async () => {\n      await addBreakpointForLine(frontend, 4);\n\n      scriptEvaluation = target.evaluate('outer();');\n\n      const scriptLocation = await waitForStackTopMatch(breakLocationRegExp);\n      assert.match(scriptLocation, breakLocationRegExp);\n    });\n\n    await step('Step out from breakpoint', async () => {\n      await click(STEP_OUT_BUTTON);\n\n      const stepLocation = await waitForStackTopMatch(stepLocationRegExp);\n      assert.match(stepLocation, stepLocationRegExp);\n    });\n\n    await step('Resume', async () => {\n      await click(RESUME_BUTTON);\n      await scriptEvaluation;\n    });\n  });\n\n  it('stepping works at the end of a sourcemapped script (crbug/1305956)', async () => {\n    const {target} = getBrowserAndPages();\n    await openSourceCodeEditorForFile('sourcemap-stepping-at-end.js', 'sourcemap-stepping-at-end.html');\n\n    // DevTools is contracting long filenames with ellipses.\n    // Let us match the location with regexp to match even contracted locations.\n    const breakLocationRegExp = /.*at-end\\.js:2$/;\n    const stepLocationRegExp = /.*at-end.html:6$/;\n\n    for (const [description, button] of [\n             ['into', STEP_INTO_BUTTON],\n             ['out', STEP_OUT_BUTTON],\n             ['over', STEP_OVER_BUTTON],\n    ]) {\n      let scriptEvaluation: Promise<unknown>;\n      await step('Run to debugger statement', async () => {\n        scriptEvaluation = target.evaluate('outer();');\n\n        const scriptLocation = await waitForStackTopMatch(breakLocationRegExp);\n        assert.match(scriptLocation, breakLocationRegExp);\n      });\n\n      await step(`Step ${description} from debugger statement`, async () => {\n        await click(button);\n\n        const stepLocation = await waitForStackTopMatch(stepLocationRegExp);\n        assert.match(stepLocation, stepLocationRegExp);\n      });\n\n      await step('Resume', async () => {\n        await click(RESUME_BUTTON);\n        await scriptEvaluation;\n      });\n    }\n  });\n\n  it('shows unminified identifiers in scopes and console', async () => {\n    const {target, frontend} = getBrowserAndPages();\n    await openSourceCodeEditorForFile('sourcemap-minified.js', 'sourcemap-minified.html');\n\n    let scriptEvaluation: Promise<unknown>;\n    const breakLocationRegExp = /sourcemap-minified\\.js:1$/;\n\n    await step('Run to debugger statement', async () => {\n      scriptEvaluation = target.evaluate('sayHello(\" world\");');\n\n      const scriptLocation = await waitForStackTopMatch(breakLocationRegExp);\n      assert.match(scriptLocation, breakLocationRegExp);\n    });\n\n    await step('Check local variable is eventually un-minified', async () => {\n      const unminifiedVariable = 'element: div';\n      await clickOnContextMenu('.cm-line', 'Add source map…');\n\n      // Enter the source map URL into the appropriate input box.\n      await waitFor('.add-source-map');\n      await click('.add-source-map');\n      await typeText('sourcemap-minified.map');\n      await frontend.keyboard.press('Enter');\n\n      const scopeValues = await waitForFunction(async () => {\n        const values = await getValuesForScope('Local', 0, 0);\n        return (values && values.includes(unminifiedVariable)) ? values : undefined;\n      });\n      assert.include(scopeValues, unminifiedVariable);\n    });\n\n    await step('Check that expression evaluation understands unminified name', async () => {\n      await frontend.evaluate(() => {\n        // @ts-ignore\n        globalThis.Root.Runtime.experiments.setEnabled('evaluateExpressionsWithSourceMaps', true);\n      });\n\n      await click(CONSOLE_TAB_SELECTOR);\n      await focusConsolePrompt();\n      await pasteText('`Hello${text}!`');\n      await frontend.keyboard.press('Enter');\n\n      // Wait for the console to be usable again.\n      await frontend.waitForFunction(() => {\n        return document.querySelectorAll('.console-user-command-result').length === 1;\n      });\n      const messages = await getCurrentConsoleMessages();\n\n      assert.deepEqual(messages, ['\\'Hello world!\\'']);\n\n      await openSourcesPanel();\n    });\n\n    await step('Resume', async () => {\n      await click(RESUME_BUTTON);\n      await scriptEvaluation;\n    });\n  });\n\n  it('updates decorators for removed breakpoints in case of code-splitting (crbug.com/1251675)', async () => {\n    const {frontend} = getBrowserAndPages();\n    await openSourceCodeEditorForFile('sourcemap-disjoint.js', 'sourcemap-disjoint.html');\n    assert.deepEqual(await getBreakpointDecorators(), []);\n    await addBreakpointForLine(frontend, 2);\n    assert.deepEqual(await getBreakpointDecorators(), [2]);\n    await removeBreakpointForLine(frontend, 2);\n    assert.deepEqual(await getBreakpointDecorators(), []);\n  });\n});\n\ndescribe('The Elements Tab', async () => {\n  it('links to the right SASS source for inline CSS with relative sourcemap (crbug.com/787792)', async () => {\n    await goToResource('sources/sourcemap-css-inline-relative.html');\n    await step('Prepare elements tab', async () => {\n      await waitForElementsStyleSection();\n      await waitForContentOfSelectedElementsNode('<body>\\u200B');\n      await focusElementsTree();\n      await clickNthChildOfSelectedElementNode(1);\n    });\n    const value = await waitForCSSPropertyValue('body .text', 'color', 'green', 'app.scss:6');\n    await click(value, {clickOptions: {modifier: 'ControlOrMeta'}});\n    await waitForElementWithTextContent('Line 12, Column 9');\n  });\n\n  it('links to the right SASS source for inline CSS with absolute sourcemap (crbug.com/787792)', async () => {\n    await goToResource('sources/sourcemap-css-dynamic-link.html');\n    await step('Prepare elements tab', async () => {\n      await waitForElementsStyleSection();\n      await waitForContentOfSelectedElementsNode('<body>\\u200B');\n      await focusElementsTree();\n      await clickNthChildOfSelectedElementNode(1);\n    });\n    const value = await waitForCSSPropertyValue('body .text', 'color', 'green', 'app.scss:6');\n    await click(value, {clickOptions: {modifier: 'ControlOrMeta'}});\n    await waitForElementWithTextContent('Line 12, Column 9');\n  });\n\n  it('links to the right SASS source for dynamically added CSS style tags (crbug.com/787792)', async () => {\n    await goToResource('sources/sourcemap-css-dynamic.html');\n    await step('Prepare elements tab', async () => {\n      await waitForElementsStyleSection();\n      await waitForContentOfSelectedElementsNode('<body>\\u200B');\n      await focusElementsTree();\n      await clickNthChildOfSelectedElementNode(1);\n    });\n    const value = await waitForCSSPropertyValue('body .text', 'color', 'green', 'app.scss:6');\n    await click(value, {clickOptions: {modifier: 'ControlOrMeta'}});\n    await waitForElementWithTextContent('Line 12, Column 9');\n  });\n\n  it('links to the right SASS source for dynamically added CSS link tags (crbug.com/787792)', async () => {\n    await goToResource('sources/sourcemap-css-dynamic-link.html');\n    await step('Prepare elements tab', async () => {\n      await waitForElementsStyleSection();\n      await waitForContentOfSelectedElementsNode('<body>\\u200B');\n      await focusElementsTree();\n      await clickNthChildOfSelectedElementNode(1);\n    });\n    const value = await waitForCSSPropertyValue('body .text', 'color', 'green', 'app.scss:6');\n    await click(value, {clickOptions: {modifier: 'ControlOrMeta'}});\n    await waitForElementWithTextContent('Line 12, Column 9');\n  });\n});\n"]}