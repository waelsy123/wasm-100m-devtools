{"version":3,"file":"selection-after-delete_test.js","sourceRoot":"","sources":["../../../../../../test/e2e/elements/selection-after-delete_test.ts"],"names":[],"mappings":";AAAA,4DAA4D;AAC5D,yEAAyE;AACzE,6BAA6B;;AAE7B,sDAA8G;AAC9G,0EAA8D;AAC9D,wEAAqM;AAErM,IAAA,8BAAQ,EAAC,kBAAkB,EAAE,KAAK,IAAI,EAAE;IACtC,aAAa;IACb,wBAAE,CAAC,IAAI,CAAC,sDAAsD,EAAE,KAAK,IAAI,EAAE;QACzE,MAAM,EAAC,QAAQ,EAAC,GAAG,IAAA,8BAAkB,GAAE,CAAC;QAExC,MAAM,IAAA,wBAAY,EAAC,sCAAsC,CAAC,CAAC;QAE3D,2DAA2D;QAC3D,MAAM,IAAA,iDAA2B,GAAE,CAAC;QAEpC,4EAA4E;QAC5E,MAAM,IAAA,0DAAoC,EAAC,cAAc,CAAC,CAAC;QAC3D,MAAM,IAAA,mDAA6B,GAAE,CAAC;QAEtC,iEAAiE;QACjE,MAAM,KAAK,GAAG,MAAM,IAAA,yCAA6B,EAAC,QAAQ,CAAC,CAAC;QAC5D,MAAM,IAAA,iBAAK,EAAC,KAAK,CAAC,CAAC;QAEnB,MAAM,QAAQ,GAAG;YACf,yCAAyC;YACzC,yCAAyC;YACzC,uCAAuC;YACvC,iDAAiD;YACjD,2BAA2B;SAC5B,CAAC;QAEF,yEAAyE;QACzE,GAAG;YACD,MAAM,OAAO,GAAG,QAAQ,CAAC,KAAK,EAAE,IAAI,EAAE,CAAC;YAEvC,MAAM,YAAY,GAAG,MAAM,IAAA,8CAAwB,GAAE,CAAC;YACtD,MAAM,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;YAC3C,MAAM,IAAA,+CAAyB,EAAC,YAAY,CAAC,CAAC;YAE9C,MAAM,IAAA,0DAAoC,EAAC,OAAO,CAAC,CAAC;SACrD,QAAQ,QAAQ,CAAC,MAAM,EAAE;IAC5B,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["// Copyright 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport {click, getBrowserAndPages, goToResource, waitForElementWithTextContent} from '../../shared/helper.js';\nimport {describe, it} from '../../shared/mocha-extensions.js';\nimport {expandSelectedNodeRecursively, getContentOfSelectedNode, waitForContentOfSelectedElementsNode, waitForElementsStyleSection, waitForSelectedNodeChange} from '../helpers/elements-helpers.js';\n\ndescribe('The Elements tab', async () => {\n  // Flaky test\n  it.skip('[crbug.com/1071851]: can delete elements in the tree', async () => {\n    const {frontend} = getBrowserAndPages();\n\n    await goToResource('elements/selection-after-delete.html');\n\n    // Wait for the file to be loaded and selectors to be shown\n    await waitForElementsStyleSection();\n\n    // Check to make sure we have the correct node selected after opening a file\n    await waitForContentOfSelectedElementsNode('<body>\\u200B');\n    await expandSelectedNodeRecursively();\n\n    // Wait for the expansion and select the final child in the tree.\n    const child = await waitForElementWithTextContent('child2');\n    await click(child);\n\n    const expected = [\n      '<div class=​\"child3\">\\u200B</div>\\u200B',\n      '<div class=​\"child1\">\\u200B</div>\\u200B',\n      '<div class=​\"left\">\\u200B</div>\\u200B',\n      '<div id=​\"testTreeContainer\">\\u200B</div>\\u200B',\n      '<body>\\u200B</body>\\u200B',\n    ];\n\n    // Start deleting and ensure that the selected child is the one expected.\n    do {\n      const nextVal = expected.shift() || '';\n\n      const initialValue = await getContentOfSelectedNode();\n      await frontend.keyboard.press('Backspace');\n      await waitForSelectedNodeChange(initialValue);\n\n      await waitForContentOfSelectedElementsNode(nextVal);\n    } while (expected.length);\n  });\n});\n"]}