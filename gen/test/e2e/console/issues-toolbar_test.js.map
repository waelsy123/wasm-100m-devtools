{"version":3,"file":"issues-toolbar_test.js","sourceRoot":"","sources":["../../../../../../test/e2e/console/issues-toolbar_test.ts"],"names":[],"mappings":";AAAA,4DAA4D;AAC5D,yEAAyE;AACzE,6BAA6B;;AAE7B,sDAAwE;AACxE,0EAA8D;AAC9D,sEAA4F;AAE5F,IAAA,8BAAQ,EAAC,iBAAiB,EAAE,KAAK,IAAI,EAAE;IACrC,IAAA,wBAAE,EAAC,iDAAiD,EAAE,KAAK,IAAI,EAAE;QAC/D,2CAA2C;QAC3C,MAAM,IAAA,wBAAY,EAAC,YAAY,CAAC,CAAC;QACjC,MAAM,IAAA,yCAAoB,GAAE,CAAC;QAE7B,MAAM,IAAA,4CAAuB,EAAC,WAAW,CAAC,CAAC;IAC7C,CAAC,CAAC,CAAC;IAEH,IAAA,wBAAE,EAAC,kDAAkD,EAAE,KAAK,IAAI,EAAE;QAChE,+CAA+C;QAC/C,MAAM,IAAA,wBAAY,EAAC,2BAA2B,CAAC,CAAC;QAChD,MAAM,IAAA,yCAAoB,GAAE,CAAC;QAE7B,MAAM,IAAA,4CAAuB,EAAC,UAAU,CAAC,CAAC;IAC5C,CAAC,CAAC,CAAC;IAEH,IAAA,wBAAE,EAAC,mDAAmD,EAAE,KAAK,IAAI,EAAE;QACjE,iDAAiD;QACjD,MAAM,IAAA,wBAAY,EAAC,gCAAgC,CAAC,CAAC;QACrD,MAAM,IAAA,yCAAoB,GAAE,CAAC;QAE7B,MAAM,IAAA,4CAAuB,EAAC,WAAW,CAAC,CAAC;IAC7C,CAAC,CAAC,CAAC;IAEH,IAAA,wBAAE,EAAC,sCAAsC,EAAE,KAAK,IAAI,EAAE;QACpD,2CAA2C;QAC3C,MAAM,IAAA,wBAAY,EAAC,YAAY,CAAC,CAAC;QACjC,MAAM,IAAA,yCAAoB,GAAE,CAAC;QAE7B,MAAM,IAAA,4CAAuB,EAAC,WAAW,CAAC,CAAC;QAE3C,MAAM,EAAC,MAAM,EAAC,GAAG,IAAA,8BAAkB,GAAE,CAAC;QACtC,MAAM,MAAM,CAAC,QAAQ,CAAC,GAAG,EAAE;YACzB,yBAAyB;YACzB,QAAQ,CAAC,MAAM,GAAG,uBAAuB,CAAC;QAC5C,CAAC,CAAC,CAAC;QAEH,MAAM,IAAA,4CAAuB,EAAC,UAAU,CAAC,CAAC;IAC5C,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["// Copyright 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport {getBrowserAndPages, goToResource} from '../../shared/helper.js';\nimport {describe, it} from '../../shared/mocha-extensions.js';\nimport {navigateToConsoleTab, waitForIssueButtonLabel} from '../helpers/console-helpers.js';\n\ndescribe('The Console Tab', async () => {\n  it('shows the toolbar button for no issue correctly', async () => {\n    // Navigate to page which causes no issues.\n    await goToResource('empty.html');\n    await navigateToConsoleTab();\n\n    await waitForIssueButtonLabel('No Issues');\n  });\n\n  it('shows the toolbar button for one issue correctly', async () => {\n    // Navigate to page which causes a CookieIssue.\n    await goToResource('console/cookie-issue.html');\n    await navigateToConsoleTab();\n\n    await waitForIssueButtonLabel('1 Issue:');\n  });\n\n  it('shows the toolbar button for two issues correctly', async () => {\n    // Navigate to page which causes two CookieIssue.\n    await goToResource('console/two-cookie-issues.html');\n    await navigateToConsoleTab();\n\n    await waitForIssueButtonLabel('2 Issues:');\n  });\n\n  it('updates the toolbar button correctly', async () => {\n    // Navigate to page which causes no issues.\n    await goToResource('empty.html');\n    await navigateToConsoleTab();\n\n    await waitForIssueButtonLabel('No Issues');\n\n    const {target} = getBrowserAndPages();\n    await target.evaluate(() => {\n      // Trigger a CookieIssue.\n      document.cookie = 'foo=bar;samesite=None';\n    });\n\n    await waitForIssueButtonLabel('1 Issue:');\n  });\n});\n"]}