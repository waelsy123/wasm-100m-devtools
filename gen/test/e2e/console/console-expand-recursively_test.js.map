{"version":3,"file":"console-expand-recursively_test.js","sourceRoot":"","sources":["../../../../../../test/e2e/console/console-expand-recursively_test.ts"],"names":[],"mappings":";AAAA,4DAA4D;AAC5D,yEAAyE;AACzE,6BAA6B;;AAE7B,sDAAgF;AAChF,0EAA8D;AAC9D,sEAA4H;AAE5H,IAAA,8BAAQ,EAAC,iBAAiB,EAAE,KAAK,IAAI,EAAE;IACrC,IAAA,wBAAE,EAAC,6BAA6B,EAAE,KAAK,IAAI,EAAE;QAC3C,MAAM,EAAC,QAAQ,EAAC,GAAG,IAAA,8BAAkB,GAAE,CAAC;QAExC,MAAM,IAAA,gBAAI,EAAC,2CAA2C,EAAE,KAAK,IAAI,EAAE;YACjE,MAAM,IAAA,iBAAK,EAAC,yCAAoB,CAAC,CAAC;YAClC,MAAM,IAAA,uCAAkB,GAAE,CAAC;QAC7B,CAAC,CAAC,CAAC;QAEH,MAAM,IAAA,oCAAe,EAAC,QAAQ,EAAE,4BAA4B,CAAC,CAAC;QAE9D,qCAAqC;QACrC,MAAM,IAAA,uCAAkB,EAAC,yCAAyC,EAAE,oBAAoB,CAAC,CAAC;QAC1F,MAAM,IAAI,GAAG,MAAM,IAAA,mBAAO,EAAC,kDAAkD,CAAC,CAAC;QAE/E,yCAAyC;QACzC,MAAM,CAAC,SAAS,EAAE,SAAS,CAAC,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC;YAC/C,IAAA,mBAAO,EAAC,8EAA8E,EAAE,IAAI,CAAC;YAC7F,IAAA,mBAAO,EAAC,8EAA8E,EAAE,IAAI,CAAC;SAC9F,CAAC,CAAC;QAEH,gDAAgD;QAChD,MAAM,OAAO,CAAC,GAAG,CAAC;YAChB,IAAA,mBAAO,EAAC,4CAA4C,EAAE,SAAS,CAAC;YAChE,IAAA,mBAAO,EAAC,4CAA4C,EAAE,SAAS,CAAC;SACjE,CAAC,CAAC;QAEH,oEAAoE;QACpE,MAAM,OAAO,CAAC,GAAG,CAAC;YAChB,IAAA,mBAAO,EAAC,6EAA6E,EAAE,SAAS,CAAC;YACjG,IAAA,mBAAO,EAAC,6EAA6E,EAAE,SAAS,CAAC;SAClG,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["// Copyright 2022 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport {click, getBrowserAndPages, step, waitFor} from '../../shared/helper.js';\nimport {describe, it} from '../../shared/mocha-extensions.js';\nimport {clickOnContextMenu, CONSOLE_TAB_SELECTOR, focusConsolePrompt, typeIntoConsole} from '../helpers/console-helpers.js';\n\ndescribe('The Console Tab', async () => {\n  it('recursively expands objects', async () => {\n    const {frontend} = getBrowserAndPages();\n\n    await step('open the console tab and focus the prompt', async () => {\n      await click(CONSOLE_TAB_SELECTOR);\n      await focusConsolePrompt();\n    });\n\n    await typeIntoConsole(frontend, '({a: {x: 21}, b: {y: 42}})');\n\n    // Expand the object node recursively\n    await clickOnContextMenu('.console-view-object-properties-section', 'Expand recursively');\n    const root = await waitFor('.console-view-object-properties-section.expanded');\n\n    // Ensure that both a and b are expanded.\n    const [aChildren, bChildren] = await Promise.all([\n      waitFor('li[data-object-property-name-for-test=\"a\"][aria-expanded=true] ~ ol.expanded', root),\n      waitFor('li[data-object-property-name-for-test=\"b\"][aria-expanded=true] ~ ol.expanded', root),\n    ]);\n\n    // The x and y properties should be visible now.\n    await Promise.all([\n      waitFor('li[data-object-property-name-for-test=\"x\"]', aChildren),\n      waitFor('li[data-object-property-name-for-test=\"y\"]', bChildren),\n    ]);\n\n    // The [[Prototype]] internal properties should not be expanded now.\n    await Promise.all([\n      waitFor('li[data-object-property-name-for-test=\"[[Prototype]]\"][aria-expanded=false]', aChildren),\n      waitFor('li[data-object-property-name-for-test=\"[[Prototype]]\"][aria-expanded=false]', bChildren),\n    ]);\n  });\n});\n"]}