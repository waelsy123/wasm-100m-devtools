{"version":3,"file":"Rendering_test.js","sourceRoot":"","sources":["../../../../../../test/e2e/rendering/Rendering_test.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport {assert} from 'chai';\n\nimport {getBrowserAndPages, waitFor, waitForAria} from '../../shared/helper.js';\nimport {describe, it} from '../../shared/mocha-extensions.js';\nimport {openPanelViaMoreTools} from '../helpers/settings-helpers.js';\n\ndescribe('Rendering pane', () => {\n  it('includes UI for simulating vision deficiencies', async () => {\n    await openPanelViaMoreTools('Rendering');\n\n    const option = await waitFor('option[value=\"achromatopsia\"]');\n    const actual = await option.evaluate(node => {\n      const select = node.closest('select');\n      return select ? select.textContent : '';\n    });\n    const expected = [\n      'No emulation',\n      'Blurred vision',\n      'Protanopia',\n      'Deuteranopia',\n      'Tritanopia',\n      'Achromatopsia',\n    ].join('');\n    assert.deepEqual(actual, expected);\n  });\n\n  it('includes UI for emulating color-gamut media feature', async () => {\n    await openPanelViaMoreTools('Rendering');\n\n    const option = await waitFor('option[value=\"rec2020\"]');\n    const actual = await option.evaluate(node => {\n      const select = node.closest('select');\n      return select ? select.textContent : '';\n    });\n    const expected = [\n      'No emulation',\n      'color-gamut: srgb',\n      'color-gamut: p3',\n      'color-gamut: rec2020',\n    ].join('');\n    assert.deepEqual(actual, expected);\n  });\n\n  it('includes UI for emulating prefers-contrast media feature', async function() {\n    await openPanelViaMoreTools('Rendering');\n\n    // TODO(sartang@microsoft.com): Remove this condition once feature is fully enabled\n    const {frontend} = getBrowserAndPages();\n    const hasSupport = await frontend.evaluate(() => {\n      return window.matchMedia('(prefers-contrast)').media === '(prefers-contrast)';\n    });\n\n    if (!hasSupport) {\n      // @ts-ignore\n      this.skip();\n    }\n\n    const option = await waitFor('option[value=\"custom\"]');\n    const actual = await option.evaluate(node => {\n      const select = node.closest('select');\n      return select ? select.textContent : '';\n    });\n    const expected = [\n      'No emulation',\n      'prefers-contrast: more',\n      'prefers-contrast: less',\n      'prefers-contrast: custom',\n    ].join('');\n    assert.deepEqual(actual, expected);\n  });\n\n  it('includes UI for emulating auto dark mode', async () => {\n    await openPanelViaMoreTools('Rendering');\n    await waitForAria('Enable automatic dark mode[role=\"checkbox\"]');\n  });\n});\n"]}