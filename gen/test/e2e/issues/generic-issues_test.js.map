{"version":3,"file":"generic-issues_test.js","sourceRoot":"","sources":["../../../../../../test/e2e/issues/generic-issues_test.ts"],"names":[],"mappings":";AAAA,4DAA4D;AAC5D,yEAAyE;AACzE,6BAA6B;;AAE7B,sDAA8G;AAC9G,0EAA8D;AAC9D,oEAAqM;AAErM,IAAA,8BAAQ,EAAC,wCAAwC,EAAE,KAAK,IAAI,EAAE;IAC5D,IAAA,wBAAE,EAAC,oCAAoC,EAAE,KAAK,IAAI,EAAE;QAClD,MAAM,IAAA,wBAAY,EAAC,sCAAsC,CAAC,CAAC;QAC3D,MAAM,IAAA,uCAAmB,GAAE,CAAC;QAC5B,MAAM,IAAA,+BAAW,GAAE,CAAC;QACpB,MAAM,YAAY,GAAG,MAAM,IAAA,mCAAe,EAAC,4DAA4D,CAAC,CAAC;QACzG,IAAA,oCAAwB,EAAC,YAAY,CAAC,CAAC;QACvC,MAAM,OAAO,GAAG,MAAM,IAAA,uCAAmB,EAAC,YAAY,EAAE,YAAY,CAAC,CAAC;QACtE,MAAM,IAAA,mDAA+B,EAAC,OAAO,CAAC,CAAC;QAC/C,MAAM,iBAAiB,GAAG;YACxB,CAAC,OAAO,CAAC;YACT,CAAC,qBAAqB,IAAA,6BAAiB,GAAE,0DAA0D,CAAC;SACrG,CAAC;QACF,MAAM,IAAA,2DAAuC,EAAC,OAAO,CAAC,OAAO,EAAE,iBAAiB,CAAC,CAAC;IACpF,CAAC,CAAC,CAAC;IAEH,IAAA,wBAAE,EAAC,wCAAwC,EAAE,KAAK,IAAI,EAAE;QACtD,MAAM,IAAA,wBAAY,EAAC,wCAAwC,CAAC,CAAC;QAC7D,MAAM,IAAA,uCAAmB,GAAE,CAAC;QAC5B,MAAM,IAAA,+BAAW,GAAE,CAAC;QACpB,MAAM,YAAY,GAAG,MAAM,IAAA,mCAAe,EAAC,4DAA4D,CAAC,CAAC;QACzG,IAAA,oCAAwB,EAAC,YAAY,CAAC,CAAC;QACvC,MAAM,OAAO,GAAG,MAAM,IAAA,uCAAmB,EAAC,aAAa,EAAE,YAAY,CAAC,CAAC;QACvE,MAAM,IAAA,mDAA+B,EAAC,OAAO,CAAC,CAAC;QAC/C,MAAM,iBAAiB,GAAG;YACxB,CAAC,OAAO,CAAC;YACT,CAAC,qBAAqB,IAAA,6BAAiB,GAAE,4DAA4D,CAAC;YACtG,CAAC,iCAAiC,IAAA,6BAAiB,GAAE,0DAA0D,CAAC;SACjH,CAAC;QACF,MAAM,IAAA,2DAAuC,EAAC,OAAO,CAAC,OAAO,EAAE,iBAAiB,CAAC,CAAC;IACpF,CAAC,CAAC,CAAC;IAEH,IAAA,wBAAE,EAAC,+BAA+B,EAAE,KAAK,IAAI,EAAE;QAC7C,MAAM,IAAA,wBAAY,EAAC,sCAAsC,CAAC,CAAC;QAC3D,MAAM,IAAA,uCAAmB,GAAE,CAAC;QAC5B,MAAM,IAAA,+BAAW,GAAE,CAAC;QACpB,MAAM,YAAY,GAAG,MAAM,IAAA,mCAAe,EAAC,4DAA4D,CAAC,CAAC;QACzG,IAAA,oCAAwB,EAAC,YAAY,CAAC,CAAC;QACvC,MAAM,IAAA,wBAAY,EAAC,iCAAiC,CAAC,CAAC;QACtD,MAAM,IAAA,uCAAmB,GAAE,CAAC;QAC5B,MAAM,IAAA,uBAAW,EAAC,yBAAK,CAAC,CAAC;IAC3B,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["// Copyright 2021 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport {assertNotNullOrUndefined, getTestServerPort, goToResource, waitForNone} from '../../shared/helper.js';\nimport {describe, it} from '../../shared/mocha-extensions.js';\nimport {ensureResourceSectionIsExpanded, expandIssue, getIssueByTitle, getResourcesElement, ISSUE, navigateToIssuesTab, waitForTableFromResourceSectionContents} from '../helpers/issues-helpers.js';\n\ndescribe('Cross-origin portal post message issue', async () => {\n  it('should display correct information', async () => {\n    await goToResource('issues/cross-origin-portal-post.html');\n    await navigateToIssuesTab();\n    await expandIssue();\n    const issueElement = await getIssueByTitle('Cross-origin portal post messages are blocked on your site');\n    assertNotNullOrUndefined(issueElement);\n    const section = await getResourcesElement('1 resource', issueElement);\n    await ensureResourceSectionIsExpanded(section);\n    const expectedTableRows = [\n      ['Frame'],\n      [`https://localhost:${getTestServerPort()}/test/e2e/resources/issues/cross-origin-portal-post.html`],\n    ];\n    await waitForTableFromResourceSectionContents(section.content, expectedTableRows);\n  });\n\n  it('should handle multiple issue correctly', async () => {\n    await goToResource('issues/cross-origin-portal-post-2.html');\n    await navigateToIssuesTab();\n    await expandIssue();\n    const issueElement = await getIssueByTitle('Cross-origin portal post messages are blocked on your site');\n    assertNotNullOrUndefined(issueElement);\n    const section = await getResourcesElement('2 resources', issueElement);\n    await ensureResourceSectionIsExpanded(section);\n    const expectedTableRows = [\n      ['Frame'],\n      [`https://localhost:${getTestServerPort()}/test/e2e/resources/issues/cross-origin-portal-post-2.html`],\n      [`https://devtools.xorigin.test:${getTestServerPort()}/test/e2e/resources/issues/cross-origin-portal-post.html`],\n    ];\n    await waitForTableFromResourceSectionContents(section.content, expectedTableRows);\n  });\n\n  it('should remove issue on update', async () => {\n    await goToResource('issues/cross-origin-portal-post.html');\n    await navigateToIssuesTab();\n    await expandIssue();\n    const issueElement = await getIssueByTitle('Cross-origin portal post messages are blocked on your site');\n    assertNotNullOrUndefined(issueElement);\n    await goToResource('issues/cross-origin-portal.html');\n    await navigateToIssuesTab();\n    await waitForNone(ISSUE);\n  });\n});\n"]}