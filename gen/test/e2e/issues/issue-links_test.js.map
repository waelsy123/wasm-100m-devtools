{"version":3,"file":"issue-links_test.js","sourceRoot":"","sources":["../../../../../../test/e2e/issues/issue-links_test.ts"],"names":[],"mappings":";AAAA,4DAA4D;AAC5D,yEAAyE;AACzE,6BAA6B;;AAE7B,+BAA4B;AAE5B,sDAA8E;AAC9E,0EAA8D;AAC9D,sEAAmE;AAEnE,IAAA,8BAAQ,EAAC,gCAAgC,EAAE,KAAK,IAAI,EAAE;IACpD,uEAAuE;IACvE,wBAAE,CAAC,IAAI,CAAC,mDAAmD,EAAE,KAAK,IAAI,EAAE;QACtE,MAAM,IAAA,yCAAoB,GAAE,CAAC;QAC7B,MAAM,IAAA,wBAAY,EAAC,0BAA0B,CAAC,CAAC;QAC/C,MAAM,aAAa,GAAG,MAAM,IAAA,mBAAO,EAAC,0BAA0B,CAAC,CAAC;QAChE,MAAM,YAAY,GAAG,MAAM,IAAA,mBAAO,EAAC,eAAe,EAAE,aAAa,CAAC,CAAC;QACnE,+EAA+E;QAC/E,MAAM,kBAAkB,GAAG,MAAM,IAAA,2BAAe,EAAC,KAAK,IAAI,EAAE;YAC1D,MAAM,KAAK,GAAG,MAAM,YAAY,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAE,CAAE,EAAkB,CAAC,KAAK,CAAC,CAAC;YAC3E,MAAM,UAAU,GAAG,8CAA8C,CAAC;YAClE,IAAI,KAAK,CAAC,UAAU,CAAC,UAAU,CAAC,EAAE;gBAChC,OAAO,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;aACxC;YACD,OAAO,SAAS,CAAC;QACnB,CAAC,CAAC,CAAC;QACH,aAAa,CAAC,KAAK,EAAE,CAAC;QACtB,MAAM,yBAAyB,GAAG,MAAM,IAAA,mBAAO,EAAC,4BAA4B,CAAC,CAAC;QAC9E,MAAM,kBAAkB,GAAG,MAAM,yBAAyB,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC;QAC1F,8CAA8C;QAC9C,aAAM,CAAC,WAAW,CAAC,kBAAkB,EAAE,IAAI,kBAAkB,EAAE,CAAC,CAAC;IACnE,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["// Copyright 2021 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport {assert} from 'chai';\n\nimport {goToResource, waitFor, waitForFunction} from '../../shared/helper.js';\nimport {describe, it} from '../../shared/mocha-extensions.js';\nimport {navigateToConsoleTab} from '../helpers/console-helpers.js';\n\ndescribe('Issue links in the console tab', async () => {\n  // Skipping the test for now as the backend functionality was reverted.\n  it.skip('[crbug.com/1241860] should reveal the right issue', async () => {\n    await navigateToConsoleTab();\n    await goToResource('issues/cors-issue-2.html');\n    const issueLinkIcon = await waitFor('devtools-issue-link-icon');\n    const devtoolsIcon = await waitFor('devtools-icon', issueLinkIcon);\n    // There are several TypeErrors in the console, we don't care which one we get.\n    const issueTitleFromLink = await waitForFunction(async () => {\n      const title = await devtoolsIcon.evaluate(el => (el as HTMLElement).title);\n      const titleStart = 'Click to open the issue tab and show issue: ';\n      if (title.startsWith(titleStart)) {\n        return title.substr(titleStart.length);\n      }\n      return undefined;\n    });\n    issueLinkIcon.click();\n    const selectedIssueTitleElement = await waitFor('li.issue.expanded.selected');\n    const selectedIssueTitle = await selectedIssueTitleElement.evaluate(el => el.textContent);\n    // The '1' is the number of issues aggregated.\n    assert.strictEqual(selectedIssueTitle, `1${issueTitleFromLink}`);\n  });\n});\n"]}